(this["webpackJsonpjmj-frontend"]=this["webpackJsonpjmj-frontend"]||[]).push([[0],{201:function(e,t,c){},209:function(e,t,c){},210:function(e,t,c){},211:function(e,t,c){},212:function(e,t,c){},213:function(e,t,c){},214:function(e,t,c){},215:function(e,t,c){},216:function(e,t,c){},217:function(e,t,c){},218:function(e,t,c){},219:function(e,t,c){},220:function(e,t,c){},221:function(e,t,c){},222:function(e,t,c){},223:function(e,t,c){},224:function(e,t,c){},225:function(e,t,c){},226:function(e,t,c){},227:function(e,t,c){},228:function(e,t,c){},229:function(e,t,c){},230:function(e,t,c){},231:function(e,t,c){},232:function(e,t,c){},233:function(e,t,c){},235:function(e,t,c){},236:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(45),l=c.n(i),r=c(15),s=function(e){return function(e){return e.user.type}(e)&&function(e){return e.user.email}(e)&&function(e){return e.user.firstName}(e)&&function(e){return e.user.lastName}(e)?e.user:null},j=c(255),d=c(264),o=c(9),b=c(18),O=c(13),h=c(6),u=c(3),x=c(134),m=c.n(x),p=c(154),f="LOGIN",v="LOGOUT",C=c(155),g=c.n(C).a.create({baseURL:"http://localhost",withCredentials:!0}),w=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/api/user");case 3:c=e.sent,t({type:f,payload:{email:c.data.user.email,firstName:c.data.user.first_name,lastName:c.data.user.last_name,type:c.data.user.type}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:v});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},y=function(e){return{type:f,payload:e}},_=c(256),k=(c(201),c(0)),S=function(e){var t,c,n,i=Object(r.c)(s),l=Object(r.b)(),j=Object(a.useState)({email:"",password:""}),d=Object(u.a)(j,2),o=d[0],x=d[1],m=Object(a.useState)({}),p=Object(u.a)(m,2),f=p[0],v=p[1];Object(a.useEffect)((function(){l(w())}));var C=function(e,t){var c=t.name,a=t.value;x((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(O.a)({},c,a))}))};return null!==i?Object(k.jsx)(b.a,{to:(null===e||void 0===e||null===(t=e.location)||void 0===t||null===(c=t.state)||void 0===c||null===(n=c.from)||void 0===n?void 0:n.pathname)?e.location.state.from.pathname:"/".concat(i.type)}):Object(k.jsx)("div",{className:"login",children:Object(k.jsx)("div",{className:"ui container middle",children:Object(k.jsxs)(_.a,{onSubmit:function(e){e.preventDefault(),g.get("/sanctum/csrf-cookie").then((function(e){g.post("/login",o).then((function(e){e.data&&e.data.user&&l(y({email:e.data.user.email,firstName:e.data.user.first_name,lastName:e.data.user.last_name,type:e.data.user.type}))})).catch((function(e){var t,c;(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.errors)&&v(e.response.data.errors)}))}))},children:[Object(k.jsxs)(_.a.Field,{children:[Object(k.jsx)("label",{children:"Email"}),Object(k.jsx)(_.a.Input,{placeholder:"Email",name:"email",type:"email",value:o.email,error:f&&f.email&&{content:f.email.join(" & ")},onChange:C})]}),Object(k.jsxs)(_.a.Field,{children:[Object(k.jsx)("label",{children:"Password"}),Object(k.jsx)(_.a.Input,{placeholder:"Password",name:"password",type:"password",value:o.password,error:f&&f.password&&{content:f.password.join(" & ")},onChange:C})]}),Object(k.jsx)(_.a.Button,{type:"submit",primary:!0,children:"Submit"})]})})})},R=c(158),H=(c(209),function(e){var t=e.children,c=e.type,n=void 0===c?"any":c,i=Object(R.a)(e,["children","type"]),l=Object(r.c)(s),j=Object(r.b)();return Object(a.useEffect)((function(){j(w())}),[j]),Object(k.jsx)(b.b,Object(h.a)(Object(h.a)({},i),{},{render:function(e){var c=e.location;return"any"!==n&&l&&l.type!==n?Object(k.jsx)(b.a,{to:"/".concat(l.type)}):l?t:Object(k.jsx)(b.a,{to:{pathname:"/login",state:{from:c}}})}}))}),N=c(262),A=c(161),E=(c(210),[{key:"researcher",text:"Researcher",value:"researcher"},{key:"viewer",text:"Viewer",value:"viewer"},{key:"reviewer",text:"Reviewer",value:"reviewer"}]),P=function(e){var t,c,n,i=e.props,l=Object(r.c)(s),j=Object(r.b)(),d=Object(a.useState)({email:"",first_name:"",last_name:"",password:"",passwordConfirmation:"",type:"",degrees:[]}),o=Object(u.a)(d,2),x=o[0],m=o[1],p=Object(a.useState)({}),f=Object(u.a)(p,2),v=f[0],C=f[1];Object(a.useEffect)((function(){j(w())})),Object(a.useEffect)((function(){"researcher"===x.type&&0===x.degrees.length&&m(Object(h.a)(Object(h.a)({},x),{},{degrees:[{title:"",institution:"",received:""}]})),"researcher"!==x.type&&x.degrees.length>0&&m(Object(h.a)(Object(h.a)({},x),{},{degrees:[]}))}),[x,x.degrees.length,x.type]);var S=function(e,t){var c=t.name,a=t.value;m((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(O.a)({},c,a))}))},R=function(e,t){var c=t.name,a=t.value,n=c.split("_");if(2===n.length){var i=n[0],l=parseInt(n[1]);isNaN(l)||m((function(e){return Object(h.a)(Object(h.a)({},e),{},{degrees:e.degrees.map((function(e,t){return t===l?Object(h.a)(Object(h.a)({},e),{},Object(O.a)({},i,a)):e}))})}))}};return null!==l?Object(k.jsx)(b.a,{to:(null===i||void 0===i||null===(t=i.location)||void 0===t||null===(c=t.state)||void 0===c||null===(n=c.from)||void 0===n?void 0:n.pathname)?i.location.state.from.pathname:"/".concat(l.type)}):Object(k.jsx)("div",{className:"register ui middle aligned center aligned grid",children:Object(k.jsxs)("div",{className:"column",children:[Object(k.jsx)("h2",{className:"ui teal image header",children:Object(k.jsx)("div",{className:"content",children:"Register"})}),Object(k.jsxs)(_.a,{onSubmit:function(e){e.preventDefault(),g.post("/register",x).then((function(e){e.data&&e.data.user&&j(y({email:e.data.user.email,first_name:e.data.user.first_name,last_name:e.data.user.last_name,type:e.data.user.type}))})).catch((function(e){var t,c;C(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.errors)}))},className:"ui large form",children:[Object(k.jsxs)(_.a.Field,{children:[Object(k.jsx)("label",{className:"white",children:"Email"}),Object(k.jsx)(_.a.Input,{type:"email",name:"email",value:x.email,error:v&&v.email&&{content:v.email.join(" & ")},placeholder:"Enter your email",onChange:S})]}),Object(k.jsxs)(_.a.Field,{children:[Object(k.jsx)("label",{className:"white",children:"First Name"}),Object(k.jsx)(_.a.Input,{type:"text",name:"first_name",value:x.first_name,error:v&&v.first_name&&{content:v.first_name.join(" & ")},placeholder:"In here with your name, your first name",onChange:S})]}),Object(k.jsxs)(_.a.Field,{children:[Object(k.jsx)("label",{className:"white",children:"Last Name"}),Object(k.jsx)(_.a.Input,{type:"text",name:"last_name",value:x.last_name,error:v&&v.last_name&&{content:v.last_name.join(" & ")},placeholder:"Your last name here",onChange:S})]}),Object(k.jsxs)(_.a.Field,{children:[Object(k.jsx)("label",{className:"white",children:"Password"}),Object(k.jsx)(_.a.Input,{type:"password",name:"password",value:x.password,error:v&&v.password&&{content:v.password.join(" & ")},placeholder:"Choose your password",onChange:S})]}),Object(k.jsxs)(_.a.Field,{children:[Object(k.jsx)("label",{className:"white",children:"Confirm Password"}),Object(k.jsx)(_.a.Input,{type:"password",name:"passwordConfirmation",value:x.passwordConfirmation,error:v&&v.password&&{content:v.passwordConfirmation.join(" & ")},placeholder:"Type it in here again, in case you fucked up before",onChange:S})]}),Object(k.jsxs)(_.a.Field,{children:[Object(k.jsx)("label",{className:"white",children:"User Type"}),Object(k.jsx)(_.a.Select,{placeholder:"Select user type",name:"type",value:x.type,options:E,onChange:S})]}),"researcher"===x.type&&x.degrees.map((function(e,t){return Object(k.jsxs)(_.a.Group,{className:"ui container grid middle degree",children:[Object(k.jsxs)(_.a.Field,{children:[Object(k.jsx)("label",{className:"white",children:"Title"}),Object(k.jsx)(_.a.Input,{type:"text",name:"title_".concat(t),value:x.degrees[t].title,error:v&&v["degree_"+t]&&v["degree_"+t].title&&{content:v["degree_"+t].title.join(" & ")},onChange:R,placeholder:"As bestowth upon you"})]}),Object(k.jsxs)(_.a.Field,{children:[Object(k.jsx)("label",{className:"white",children:"Date received"}),Object(k.jsx)(_.a.Input,{type:"date",name:"received_".concat(t),value:x.degrees[t].received,error:v&&v["degree_"+t]&&v["degree_"+t].received&&{content:v["degree_"+t].received.join(" & ")},onChange:R,placeholder:"How long ago?"})]}),Object(k.jsxs)(_.a.Field,{children:[Object(k.jsx)("label",{className:"white",children:"Institution"}),Object(k.jsx)(_.a.Input,{type:"text",name:"institution_".concat(t),value:x.degrees[t].institution,error:v&&v["degree_"+t]&&v["degree_"+t].institution&&{content:v["degree_"+t].institution.join(" & ")},onChange:R,placeholder:"By this authority"})]}),t>0&&Object(k.jsx)(_.a.Field,{className:"remove-field",children:Object(k.jsxs)(N.a,{type:"button",className:"remove-row",animated:"vertical",onClick:function(e){m(Object(h.a)(Object(h.a)({},x),{},{degrees:x.degrees.filter((function(e,c){return c!==t}))}))},children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Remove"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(A.a,{})})]})})]},t)})),"researcher"===x.type&&Object(k.jsx)(_.a.Button,{type:"button",onClick:function(e){m(Object(h.a)(Object(h.a)({},x),{},{degrees:x.degrees.concat({title:"",institution:"",received:""})}))},children:"Add Degree"}),Object(k.jsx)(_.a.Button,{content:"Submit"})]})]})})},F=c(258),I=c(68),T=c(250),q=c(263),B=c(259),D=(c(211),function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)(""),l=Object(u.a)(i,2),r=l[0],s=l[1],j=Object(a.useState)(!0),d=Object(u.a)(j,2),o=d[0],b=d[1],O=Object(a.useState)({}),h=Object(u.a)(O,2),x=h[0],m=h[1],p=Object(a.useState)(null),f=Object(u.a)(p,2),v=f[0],C=f[1],w=Object(a.useState)(null),y=Object(u.a)(w,2),S=y[0],R=y[1];Object(a.useEffect)((function(){o&&(b(!1),g.get("/api/tokens/all").then((function(e){e.data.tokens&&n(e.data.tokens)})).catch((function(e){console.log(e)})))}),[o]);return Object(k.jsxs)("div",{className:"user-tokens ui container middle",children:[c&&c.length>0&&Object(k.jsxs)(F.a,{compact:!0,celled:!0,children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Name"}),Object(k.jsx)(F.a.HeaderCell,{children:"Last Used"}),Object(k.jsx)(F.a.HeaderCell,{children:"Action"})]})}),Object(k.jsx)(F.a.Body,{children:c.map((function(e,t){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.name}),Object(k.jsx)(F.a.Cell,{children:e.last_used_at||"Never used"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsxs)(N.a,{icon:!0,labelPosition:"left",onClick:function(t){return a=e.id,void g.post("/api/tokens/delete",{tokenId:a}).then((function(e){console.log(e),e.data.success&&n(c.filter((function(e){return e.id!==a})))})).catch((function(e){console.log(e)}));var a},color:"red",children:[Object(k.jsx)(I.a,{name:"delete"}),"Remove"]})})]},t)}))})]}),Object(k.jsx)(T.a,{}),Object(k.jsx)(q.a,{size:"medium",children:"Generate new token"}),Object(k.jsxs)(_.a,{children:[Object(k.jsxs)(_.a.Field,{inline:!0,children:[Object(k.jsx)("label",{children:"Token Name"}),Object(k.jsx)(_.a.Input,{placeholder:"Token Name",name:"tokenName",type:"text",value:r,error:x&&x.tokenName&&{content:x.tokenName.join(" & ")},onChange:function(e,t){t.name;var c=t.value;s(c)}})]}),Object(k.jsx)(N.a,{className:"generateToken",primary:!0,onClick:function(e){g.post("/api/tokens/create",{tokenName:r}).then((function(e){console.log(e),e.data.token&&(C(e.data.token),R(r),s(""),b(!0))})).catch((function(e){var t,c;(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.errors)&&m(e.response.data.errors)}))},size:"small",children:"Generate Token"})]}),v&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(T.a,{}),Object(k.jsxs)(B.a,{fluid:!0,children:[Object(k.jsxs)(B.a.Content,{children:[Object(k.jsxs)(B.a.Header,{children:["New Token: ",S]}),Object(k.jsx)(B.a.Meta,{children:"Keep it safe, you won't be able to see this token again"}),Object(k.jsx)(B.a.Description,{children:v})]}),Object(k.jsx)(B.a.Content,{extra:!0,children:Object(k.jsx)("div",{className:"ui two buttons",children:Object(k.jsx)(N.a,{primary:!0,onClick:function(e){return C(null),void R(null)},children:"Got it, hide it now"})})})]})]})]})}),z=(c(212),c(254)),M=function(){var e=Object(r.c)(s),t=Object(r.b)();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(j.a.Item,{to:"/".concat(e.type,"/evaluation_metrics"),as:o.c,children:"Evaluation Metrics"}),Object(k.jsx)(j.a.Menu,{position:"right",children:e&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(z.a,{item:!0,text:e.firstName+" "+e.lastName,children:Object(k.jsxs)(z.a.Menu,{children:[Object(k.jsx)(z.a.Item,{exact:!0,to:"/".concat(e.type,"/user/tokens"),as:o.c,children:"Tokens"}),Object(k.jsx)(z.a.Item,{text:"Logout",onClick:function(e){g.get("/logout").then((function(e){t({type:v})})).catch((function(e){}))}})]})})})})]})},V=(c(213),function(e){var t=e.url;return Object(k.jsxs)(j.a,{children:[Object(k.jsx)(j.a.Item,{to:"".concat(t,"/users"),as:o.c,children:"Users"}),Object(k.jsx)(j.a.Item,{to:"".concat(t,"/publications"),as:o.c,children:"Publications"}),Object(k.jsx)(j.a.Item,{to:"".concat(t,"/withdrawls"),as:o.c,children:"Withdrawls"}),Object(k.jsx)(M,{})]})}),U=c(251),G=c(257),L=(c(214),function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),l=Object(u.a)(i,2),r=l[0],s=l[1],j=Object(a.useState)(!1),b=Object(u.a)(j,2),O=b[0],h=b[1],x=Object(a.useState)(null),m=Object(u.a)(x,2),p=m[0],f=m[1];Object(a.useEffect)((function(){c&&(n(!1),g.get("/api/users/all").then((function(e){e.data.users&&s(e.data.users)})).catch((function(e){console.log(e)})))}),[c]);return Object(k.jsxs)(U.a,{className:"users-list",children:[Object(k.jsxs)(d.a,{clearing:!0,vertical:!0,children:[Object(k.jsx)(q.a,{floated:"left",children:"All Users"}),Object(k.jsxs)(N.a,{floated:"right",icon:!0,labelPosition:"left",as:o.b,to:"/admin/users/new/edit",primary:!0,children:[Object(k.jsx)(I.a,{name:"plus"}),"Add User"]})]}),Object(k.jsxs)(F.a,{celled:!0,children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Name"}),Object(k.jsx)(F.a.HeaderCell,{children:"User Type"}),Object(k.jsx)(F.a.HeaderCell,{children:"Status"}),Object(k.jsx)(F.a.HeaderCell,{children:"Actions"})]})}),Object(k.jsx)(F.a.Body,{children:r.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.first_name+" "+e.last_name}),Object(k.jsx)(F.a.Cell,{children:e.type}),Object(k.jsx)(F.a.Cell,{children:e.status}),Object(k.jsxs)(F.a.Cell,{textAlign:"center",children:[Object(k.jsxs)(N.a,{primary:!0,animated:"vertical",to:"/admin/users/".concat(e.id,"/view"),as:o.b,children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"View"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"eye"})})]}),Object(k.jsxs)(N.a,{secondary:!0,animated:"vertical",to:"/admin/users/".concat(e.id,"/edit"),as:o.b,children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Edit"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"pencil"})})]}),Object(k.jsxs)(N.a,{color:"red",animated:"vertical",onClick:function(t){h(!0),f({name:e.first_name+" "+e.last_name,id:e.id})},children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Remove"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"delete"})})]})]})]},e.id)}))})]}),Object(k.jsxs)(G.a,{basic:!0,onClose:function(){return h(!1)},onOpen:function(){return h(!0)},open:O,dimmer:"blurring",size:"small",children:[Object(k.jsxs)(q.a,{icon:!0,textAlign:"center",children:[Object(k.jsx)(I.a,{name:"user"}),"Remove user ",null===p||void 0===p?void 0:p.name,"?"]}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(U.a,{textAlign:"center",children:Object(k.jsx)("p",{className:"align center",children:"This will permanently remove the user and all of their related data."})})}),Object(k.jsxs)(G.a.Actions,{children:[Object(k.jsxs)(N.a,{color:"blue",inverted:!0,onClick:function(){return h(!1)},children:[Object(k.jsx)(I.a,{name:"remove"})," No"]}),Object(k.jsxs)(N.a,{color:"red",inverted:!0,onClick:function(){var e;h(!1),e=null===p||void 0===p?void 0:p.id,g.post("/api/users/".concat(e,"/remove")).then((function(t){t.data.success&&s(r.filter((function(t){return t.id!==e})))})).catch((function(e){console.log(e)})),f(null)},children:[Object(k.jsx)(I.a,{name:"checkmark"})," Yes"]})]})]})]})}),Y=c(252),J=function(){var e=Object(b.h)().id,t=Object(a.useState)(!0),c=Object(u.a)(t,2),n=c[0],i=c[1],l=Object(a.useState)(!1),r=Object(u.a)(l,2),s=r[0],j=r[1],d=Object(a.useState)(null),O=Object(u.a)(d,2),h=O[0],x=O[1],m=Object(a.useState)([]),p=Object(u.a)(m,2),f=p[0],v=p[1];return Object(a.useEffect)((function(){n&&(i(!1),g.get("/api/users/".concat(e)).then((function(e){e.data.user&&(x(e.data.user),"researcher"===e.data.user.type&&j(!0))})).catch((function(e){console.error(e)})))}),[n,e]),Object(a.useEffect)((function(){s&&"researcher"===(null===h||void 0===h?void 0:h.type)&&(j(!1),g.get("/api/users/".concat(e,"/degrees")).then((function(e){e.data.degrees&&v(e.data.degrees)})).catch((function(e){})))}),[h,s,e]),h?Object(k.jsxs)(U.a,{className:"view-user",children:[Object(k.jsx)(q.a,{dividing:!0,children:"User Info"}),Object(k.jsxs)(F.a,{definition:!0,children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{}),Object(k.jsx)(F.a.HeaderCell,{children:Object(k.jsxs)(N.a,{labelPosition:"left",floated:"right",icon:!0,secondary:!0,to:"/admin/users/".concat(e,"/edit"),as:o.b,size:"small",children:[Object(k.jsx)(I.a,{name:"pencil"}),"Edit User"]})})]})}),Object(k.jsxs)(F.a.Body,{children:[Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"First Name"}),Object(k.jsx)(F.a.Cell,{children:h.first_name})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Last Name"}),Object(k.jsx)(F.a.Cell,{children:h.last_name})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"User Type"}),Object(k.jsx)(F.a.Cell,{children:h.type})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Status"}),Object(k.jsx)(F.a.Cell,{children:h.status})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Email"}),Object(k.jsx)(F.a.Cell,{children:h.email})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"ID"}),Object(k.jsx)(F.a.Cell,{children:h.id})]}),h.admin_email&&Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Admin Email"}),Object(k.jsx)(F.a.Cell,{children:h.admin_email})]})]})]}),"researcher"===h.type&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(q.a,{dividing:!0,children:"Degrees"}),Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Title"}),Object(k.jsx)(F.a.HeaderCell,{children:"Intitution"}),Object(k.jsx)(F.a.HeaderCell,{children:"Received"})]})}),Object(k.jsx)(F.a.Body,{children:f.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.title}),Object(k.jsx)(F.a.Cell,{children:e.institution}),Object(k.jsx)(F.a.Cell,{children:e.received})]})}))})]})]})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{active:!0,inline:"centered"})})},W=c(40),Q=(c(215),[{key:"researcher",text:"Researcher",value:"researcher"},{key:"viewer",text:"Viewer",value:"viewer"},{key:"reviewer",text:"Reviewer",value:"reviewer"},{key:"editor",text:"Editor",value:"editor"},{key:"admin",text:"Admin",value:"admin"}]),K=[{key:"approved",text:"Approved",value:"approved"},{key:"awaiting",text:"Awaiting",value:"awaiting"}],X={title:"",received:"",institution:""},Z={first_name:"",last_name:"",type:"",email:"",admin_email:"",status:"",password:""},$=function(){var e=Object(b.h)().id,t=Object(b.g)(),c=Object(a.useState)(!0),n=Object(u.a)(c,2),i=n[0],l=n[1],r=Object(a.useState)(!1),s=Object(u.a)(r,2),j=s[0],o=s[1],x=Object(a.useState)(Z),m=Object(u.a)(x,2),p=m[0],f=m[1],v=Object(a.useState)([]),C=Object(u.a)(v,2),w=C[0],y=C[1],S=Object(a.useState)({}),R=Object(u.a)(S,2),H=R[0],A=R[1],E=Object(a.useState)({}),P=Object(u.a)(E,2),T=P[0],B=P[1],D=Object(a.useState)(!1),z=Object(u.a)(D,2),M=z[0],V=z[1],G=Object(a.useState)({}),L=Object(u.a)(G,2),J=L[0],$=L[1],ee=Object(a.useState)(X),te=Object(u.a)(ee,2),ce=te[0],ae=te[1],ne="new"===e;Object(a.useEffect)((function(){!ne&&i&&(l(!1),g.get("/api/users/".concat(e)).then((function(e){e.data.user&&(f(e.data.user),"researcher"===e.data.user.type&&o(!0))})).catch((function(e){console.log(e.response)})))}),[i,e,ne]),Object(a.useEffect)((function(){!ne&&j&&"researcher"===(null===p||void 0===p?void 0:p.type)&&(o(!1),g.get("/api/users/".concat(e,"/degrees")).then((function(e){e.data.degrees&&y(e.data.degrees)})).catch((function(e){console.log(e)})))}),[p,j,e,ne]);var ie=function(e,t){var c=t.name,a=t.value;f(Object(h.a)(Object(h.a)({},p),{},Object(O.a)({},c,a))),B(ne?{new_user:!0}:Object(h.a)(Object(h.a)({},T),{},Object(O.a)({},c,!0)))},le=function(e,t){var c=t.name,a=t.value;ae(Object(h.a)(Object(h.a)({},ce),{},Object(O.a)({},c,a)))},re=function(t,c){g.post("/api/users/".concat(e,"/edit"),Object(O.a)({},t,c)).then((function(e){e.data.success&&(B(Object(h.a)(Object(h.a)({},T),{},Object(O.a)({},t,!1))),A(Object(h.a)(Object(h.a)({},H),{},Object(O.a)({},t,!1))))})).catch((function(e){e.response.data.errors&&A(e.response.data.errors)}))};return p?Object(k.jsxs)(U.a,{className:"edit-user",children:[Object(k.jsxs)(d.a,{clearing:!0,vertical:!0,children:[Object(k.jsx)(q.a,{floated:"left",children:"User Info"}),Object.keys(T).length>0&&Object.keys(T).reduce((function(e,t){return e||T[t]}),!1)?Object(k.jsxs)(N.a,{labelPosition:"left",floated:"right",icon:!0,onClick:function(c){g.post("/api/users/".concat(ne?"new":"".concat(e,"/edit")),ne?Object(h.a)(Object(h.a)({},p),{},{passwordConfirmation:p.password}):p).then((function(e){e.data.success&&(B({}),A({}),ne&&t.replace("/admin/users/".concat(e.data.user.id,"/view"))),e.data.user&&f(e.data.user)})).catch((function(e){e.response.data.errors&&A(e.response.data.errors)}))},secondary:!0,size:"small",children:[Object(k.jsx)(I.a,{name:"save"}),"Save User"]}):Object(k.jsxs)(N.a,{labelPosition:"left",floated:"right",icon:!0,disabled:!0,primary:!0,size:"small",children:[Object(k.jsx)(I.a,{name:"save"}),"Saved"]})]}),Object(k.jsx)(F.a,{definition:!0,children:Object(k.jsxs)(F.a.Body,{children:[Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"First Name"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(_.a.Field,{children:Object(k.jsx)(_.a.Input,{placeholder:"First Name",type:"text",name:"first_name",error:H&&H.first_name&&{content:H.first_name.join(" & "),pointing:"left"},icon:(null===T||void 0===T?void 0:T.first_name)&&{name:"save",circular:!0,link:!0,onClick:function(e){return re("first_name",p.first_name)}},onChange:ie,value:p.first_name})})})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Last Name"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(_.a.Field,{children:Object(k.jsx)(_.a.Input,{placeholder:"Last Name",name:"last_name",type:"text",error:H&&H.last_name&&{content:H.last_name.join(" & "),pointing:"left"},icon:(null===T||void 0===T?void 0:T.last_name)?{name:"save",circular:!0,link:!0,onClick:function(e){return re("last_name",p.last_name)}}:null,onChange:ie,value:p.last_name})})})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"User Type"}),Object(k.jsxs)(F.a.Cell,{verticalAlign:"middle",children:[Object(k.jsx)(_.a.Select,{placeholder:"User Type",className:"table_select",value:p.type,error:H&&H.type&&{content:H.type.join(" & "),pointing:"left"},name:"type",onChange:ie,options:Q}),(null===T||void 0===T?void 0:T.type)&&Object(k.jsx)(I.a,{name:"save",className:"select_icon",circular:!0,link:!0,onClick:function(e){return re("type",p.type)}})]})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"User Status"}),Object(k.jsxs)(F.a.Cell,{verticalAlign:"middle",children:[Object(k.jsx)(_.a.Select,{placeholder:"User Status",className:"table_select",value:p.status,error:H&&H.status&&{content:H.status.join(" & "),pointing:"left"},name:"status",onChange:ie,options:K}),(null===T||void 0===T?void 0:T.status)&&Object(k.jsx)(I.a,{name:"save",className:"select_icon",circular:!0,link:!0,onClick:function(e){return re("status",p.status)}})]})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Email"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(_.a.Field,{children:Object(k.jsx)(_.a.Input,{placeholder:"Email",type:"email",name:"email",error:H&&H.email&&{content:H.email.join(" & "),pointing:"left"},icon:(null===T||void 0===T?void 0:T.email)?{name:"save",circular:!0,link:!0,onClick:function(e){return re("email",p.email)}}:null,onChange:ie,value:p.email})})})]}),"admin"!==p.type&&Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Admin Email"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(_.a.Field,{children:Object(k.jsx)(_.a.Input,{placeholder:"Admin Email",name:"admin_email",type:"email",error:H&&H.admin_email&&{content:H.admin_email.join(" & "),pointing:"left"},onChange:ie,icon:(null===T||void 0===T?void 0:T.admin_email)?{name:"save",circular:!0,link:!0,onClick:function(e){return re("admin_email",p.admin_email)}}:null,value:p.admin_email})})})]}),ne?Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Password"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(_.a.Field,{children:Object(k.jsx)(_.a.Input,{placeholder:"A secure password",name:"password",type:"password",error:H&&H.password&&{content:H.password.join(" & "),pointing:"left"},onChange:ie,icon:(null===T||void 0===T?void 0:T.password)?{name:"save",circular:!0,link:!0,onClick:function(e){return re("password",p.password)}}:null,value:p.password})})})]}):Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"ID"}),Object(k.jsx)(F.a.Cell,{children:p.id})]})]})}),!ne&&"researcher"===p.type&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(d.a,{clearing:!0,vertical:!0,children:[Object(k.jsx)(q.a,{floated:"left",children:"Degrees"}),M?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(N.a,{floated:"right",icon:!0,labelPosition:"left",onClick:function(t){g.post("/api/users/".concat(e,"/degrees/new"),ce).then((function(e){e.data.success&&(y([].concat(Object(W.a)(w),[ce])),ae(X),V(!1))})).catch((function(e){e.response.data.errors&&$(e.response.data.errors)}))},primary:!0,children:[Object(k.jsx)(I.a,{name:"save"}),"Save Degree"]}),Object(k.jsxs)(N.a,{floated:"right",icon:!0,labelPosition:"left",onClick:function(e){return V(!1)},primary:!0,children:[Object(k.jsx)(I.a,{name:"delete"}),"Cancel"]})]}):Object(k.jsxs)(N.a,{floated:"right",icon:!0,labelPosition:"left",onClick:function(e){return V(!0)},primary:!0,children:[Object(k.jsx)(I.a,{name:"plus"}),"Add Degree"]})]}),Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Title"}),Object(k.jsx)(F.a.HeaderCell,{children:"Intitution"}),Object(k.jsx)(F.a.HeaderCell,{children:"Received"}),Object(k.jsx)(F.a.HeaderCell,{children:"Remove Degree"})]})}),Object(k.jsxs)(F.a.Body,{children:[M&&Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(_.a.Field,{children:Object(k.jsx)(_.a.Input,{placeholder:"Title",type:"text",name:"title",error:J&&J.title&&{content:J.title.join(" & "),pointing:"left"},onChange:le,value:ce.title})})}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(_.a.Field,{children:Object(k.jsx)(_.a.Input,{placeholder:"Institution",type:"text",name:"institution",error:J&&J.institution&&{content:J.institution.join(" & "),pointing:"left"},onChange:le,value:ce.institution})})}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(_.a.Field,{children:Object(k.jsx)(_.a.Input,{placeholder:"Date Received",type:"date",name:"received",error:J&&J.received&&{content:J.received.join(" & "),pointing:"left"},onChange:le,value:ce.received})})})]}),w.map((function(t){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:t.title}),Object(k.jsx)(F.a.Cell,{children:t.institution}),Object(k.jsx)(F.a.Cell,{children:t.received}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(N.a,{color:"red",onClick:function(c){return a=t.id,void g.post("/api/users/".concat(e,"/degrees/delete"),{degree_id:a}).then((function(e){e.data.success&&y(w.filter((function(e){return e.id!==a})))})).catch((function(e){console.log(e)}));var a},icon:"remove"})})]},t.id)}))]})]})]})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{active:!0,inline:"centered"})})},ee=function(){var e=Object(r.c)(s),t=Object(a.useState)(!0),c=Object(u.a)(t,2),n=c[0],i=c[1],l=Object(a.useState)(null),j=Object(u.a)(l,2),b=j[0],O=j[1],h=Object(a.useState)(!1),x=Object(u.a)(h,2),m=x[0],p=x[1],f=Object(a.useState)(null),v=Object(u.a)(f,2),C=v[0],w=v[1],y="admin"!==e.type&&"editor"!==e.type;Object(a.useEffect)((function(){n&&(i(!1),g.get("/api/journals/all").then((function(e){e.data.journals&&O(e.data.journals)})).catch((function(e){console.error(e)})))}),[n]);return b?Object(k.jsxs)(U.a,{children:[Object(k.jsxs)(d.a,{clearing:!0,vertical:!0,children:[Object(k.jsx)(q.a,{floated:"left",children:"All Publications"}),("admin"===e.type||"editor"===e.type)&&Object(k.jsxs)(N.a,{primary:!0,icon:!0,labelPosition:"left",floated:"right",as:o.b,to:"/".concat(e.type,"/publications/new/edit"),children:[Object(k.jsx)(I.a,{name:"plus"}),"New Publication"]})]}),Object(k.jsxs)(F.a,{celled:!0,children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Title"}),Object(k.jsx)(F.a.HeaderCell,{children:"Published Date"}),("admin"===e.type||"editor"===e.type)&&Object(k.jsx)(F.a.HeaderCell,{children:"Status"}),Object(k.jsx)(F.a.HeaderCell,{children:"Actions"})]})}),Object(k.jsx)(F.a.Body,{children:b.map((function(t){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:t.title}),Object(k.jsx)(F.a.Cell,{children:t.published_date}),("admin"===e.type||"editor"===e.type)&&Object(k.jsx)(F.a.Cell,{children:t.status}),Object(k.jsxs)(F.a.Cell,{textAlign:"center",children:[Object(k.jsxs)(N.a,{primary:!0,animated:"vertical",to:"/".concat(e.type,"/publications/").concat(t.id,"/view"),as:o.b,children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"View"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"eye"})})]}),!y&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(N.a,{secondary:!0,animated:"vertical",to:"/".concat(e.type,"/publications/").concat(t.id,"/edit"),as:o.b,children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Edit"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"pencil"})})]}),Object(k.jsxs)(N.a,{color:"red",animated:"vertical",onClick:function(e){p(!0),w({title:t.title,id:t.id})},children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Remove"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"delete"})})]}),"  "]})]})]},t.id)}))})]}),Object(k.jsxs)(G.a,{basic:!0,onClose:function(){return p(!1)},onOpen:function(){return p(!0)},open:m,dimmer:"blurring",size:"small",children:[Object(k.jsxs)(q.a,{icon:!0,textAlign:"center",children:[Object(k.jsx)(I.a,{name:"book"}),"Remove journal ",null===C||void 0===C?void 0:C.title,"?"]}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(U.a,{textAlign:"center",children:Object(k.jsx)("p",{className:"align center",children:"This will permanently remove the journal and all of their related data."})})}),Object(k.jsxs)(G.a.Actions,{children:[Object(k.jsxs)(N.a,{color:"blue",inverted:!0,onClick:function(){return p(!1)},children:[Object(k.jsx)(I.a,{name:"remove"})," No"]}),Object(k.jsxs)(N.a,{color:"red",inverted:!0,onClick:function(){var e;p(!1),e=null===C||void 0===C?void 0:C.id,g.post("/api/journals/".concat(e,"/remove")).then((function(t){t.data.success&&(w(null),O(b.filter((function(t){return t.id!==e}))))})).catch((function(e){console.error(e)})),w(null)},children:[Object(k.jsx)(I.a,{name:"checkmark"})," Yes"]})]})]})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{})})},te=c(253),ce=(c(216),[{key:"pending",text:"Pending",value:"pending"},{key:"approved",text:"Approved",value:"approved"},{key:"rejected",text:"Rejected",value:"rejected"}]),ae=function(){var e=Object(b.h)().id,t=Object(b.g)(),c=Object(r.c)(s),n=Object(a.useState)(!0),i=Object(u.a)(n,2),l=i[0],j=i[1],o=Object(a.useState)({title:"",published_date:"",status:"",admin_email:"",papers:[]}),x=Object(u.a)(o,2),m=x[0],p=x[1],f=Object(a.useState)(!1),v=Object(u.a)(f,2),C=v[0],w=v[1],y=Object(a.useState)(!1),S=Object(u.a)(y,2),R=S[0],H=S[1],A=Object(a.useState)(null),E=Object(u.a)(A,2),P=E[0],T=E[1],B=Object(a.useState)(!1),D=Object(u.a)(B,2),z=D[0],M=D[1],V=Object(a.useState)(null),L=Object(u.a)(V,2),J=L[0],Q=L[1],K=Object(a.useState)({}),X=Object(u.a)(K,2),Z=X[0],$=X[1],ee=Object(a.useState)({}),ae=Object(u.a)(ee,2),ne=ae[0],ie=ae[1],le=Object(a.useState)(null),re=Object(u.a)(le,2),se=re[0],je=re[1],de=Object(a.useState)(null),oe=Object(u.a)(de,2),be=oe[0],Oe=oe[1],he=Object(a.useState)(!0),ue=Object(u.a)(he,2),xe=ue[0],me=ue[1],pe="new"===e;Object(a.useEffect)((function(){!pe&&"new"!==e&&l&&(j(!1),g.get("/api/journals/".concat(e)).then((function(e){e.data.journal&&p(e.data.journal),me(!0)})).catch((function(e){console.error(e)})))}),[l,e,pe]),Object(a.useEffect)((function(){!pe&&R&&(H(!1),g.get("/api/paper/all").then((function(e){e.data.papers&&T(e.data.papers)})).catch((function(e){console.error(e)})))}),[R,pe]),Object(a.useEffect)((function(){xe&&(me(!1),g.get("/api/users/of_type/admin").then((function(e){e.data.users&&je(e.data.users.map((function(e){return{key:e.email,text:e.first_name+" "+e.last_name,value:e.email}})))})).catch((function(e){console.error(e)})),g.get("/api/users/of_type/editor").then((function(e){e.data.users&&Oe(e.data.users.map((function(e){return{key:e.email,text:e.first_name+" "+e.last_name,value:e.email}})))})).catch((function(e){console.error(e)})))}),[xe,pe]);var fe=function(t){g.post("/api/journals/".concat(e,"/add_paper"),{paper_id:t}).then((function(e){e.data.success&&p(Object(h.a)(Object(h.a)({},m),{},{papers:[].concat(Object(W.a)(m.papers),[e.data.paper])}))})).catch((function(e){console.error(e)}))},ve=function(t){g.post("/api/journals/".concat(e,"/remove_paper"),{paper_id:t}).then((function(e){e.data.success&&p(Object(h.a)(Object(h.a)({},m),{},{papers:m.papers.filter((function(e){return e.id!==t}))}))})).catch((function(e){console.error(e)}))},Ce=function(t,c){g.post("/api/journals/".concat(e,"/edit"),Object(O.a)({},t,c)).then((function(e){e.data.success&&($(Object(h.a)(Object(h.a)({},Z),{},Object(O.a)({},t,!1))),ie(Object(h.a)(Object(h.a)({},ne),{},Object(O.a)({},t,!1))))})).catch((function(e){console.error(e.response),$(e.response.data.errors)}))},ge=function(e,t){var c=t.name,a=t.value;p(Object(h.a)(Object(h.a)({},m),{},Object(O.a)({},c,a))),ie(pe?{new_journal:!0}:Object(h.a)(Object(h.a)({},ne),{},Object(O.a)({},c,a)))};return m?Object(k.jsxs)(U.a,{className:"edit-publication",children:[Object(k.jsx)(q.a,{dividing:!0,children:"Journal Info"}),Object(k.jsxs)(F.a,{definition:!0,children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{}),Object(k.jsx)(F.a.HeaderCell,{children:Object.keys(ne).length>0&&Object.keys(ne).reduce((function(e,t){return e||ne[t]}),!1)?Object(k.jsxs)(N.a,{labelPosition:"left",floated:"right",icon:!0,onClick:function(c){g.post("/api/journals/".concat(pe?"create":"".concat(e,"/edit")),m).then((function(e){e.data.success&&($({}),ie({}),e.data.journal&&t.replace("/admin/publications/".concat(e.data.journal.id,"/view")))})).catch((function(e){console.error(e.response),$(e.response.data.errors)}))},secondary:!0,size:"small",children:[Object(k.jsx)(I.a,{name:"save"}),"Save Publication"]}):Object(k.jsxs)(N.a,{labelPosition:"left",floated:"right",icon:!0,disabled:!0,primary:!0,size:"small",children:[Object(k.jsx)(I.a,{name:"save"}),"Saved"]})})]})}),Object(k.jsxs)(F.a.Body,{children:[Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Title"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(_.a.Input,{placeholde:"Title",name:"title",type:"text",value:m.title,onChange:ge,error:Z&&Z.title&&{content:Z.title.join(" & "),pointing:"left"},icon:(null===ne||void 0===ne?void 0:ne.title)&&{name:"save",circular:!0,link:!0,onClick:function(e){return Ce("title",m.title)}}})})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Published Date"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(_.a.Input,{placeholde:"Published Date",name:"published_date",type:"date",value:m.published_date,onChange:ge,error:Z&&Z.published_date&&{content:Z.published_date.join(" & "),pointing:"left"},icon:(null===ne||void 0===ne?void 0:ne.published_date)&&{name:"save",circular:!0,link:!0,onClick:function(e){return Ce("published_date",m.published_date)}}})})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Status"}),Object(k.jsx)(F.a.Cell,{children:"admin"===c.type?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(_.a.Select,{placeholde:"Status",name:"status",type:"date",className:"table_select",options:ce,value:m.status,onChange:ge,error:Z&&Z.status&&{content:Z.status.join(" & "),pointing:"left"}}),(null===ne||void 0===ne?void 0:ne.status)&&Object(k.jsx)(I.a,{name:"save",className:"select_icon",circular:!0,link:!0,onClick:function(e){return Ce("status",m.status)}})," "]}):m.status})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Editor"}),Object(k.jsx)(F.a.Cell,{children:"admin"===c.type?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(_.a.Select,{name:"editor_email",placeholder:"Editor Email",className:"table_select",value:m.editor_email,onChange:ge,error:Z&&Z.editor_email&&{content:Z.editor_email.join(" & "),pointing:"left"},options:be}),(null===ne||void 0===ne?void 0:ne.editor_email)&&Object(k.jsx)(I.a,{name:"save",className:"select_icon",circular:!0,link:!0,onClick:function(e){return Ce("editor_email",m.editor_email)}})]}):m.editor_email})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Admin"}),Object(k.jsx)(F.a.Cell,{children:"admin"===c.type?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(_.a.Select,{name:"admin_email",placeholder:"Admin Email",className:"table_select",value:m.admin_email,onChange:ge,error:Z&&Z.admin_email&&{content:Z.admin_email.join(" & "),pointing:"left"},options:se}),(null===ne||void 0===ne?void 0:ne.admin_email)&&Object(k.jsx)(I.a,{name:"save",className:"select_icon",circular:!0,link:!0,onClick:function(e){return Ce("admin_email",m.admin_email)}})]}):m.admin_email})]})]})]}),!pe&&m.papers&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(d.a,{clearing:!0,vertical:!0,children:[Object(k.jsx)(q.a,{floated:"left",children:"Papers"}),Object(k.jsxs)(N.a,{floated:"right",icon:!0,labelPosition:"left",onClick:function(e){w(!0),H(!0)},primary:!0,children:[Object(k.jsx)(I.a,{name:"plus"}),"Add paper"]})]}),Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Title"}),Object(k.jsx)(F.a.HeaderCell,{children:"Researcher"}),Object(k.jsx)(F.a.HeaderCell,{children:"Editor"}),Object(k.jsx)(F.a.HeaderCell,{children:"Metric Used"}),Object(k.jsx)(F.a.HeaderCell,{children:"Status"}),Object(k.jsx)(F.a.HeaderCell,{children:"File"}),Object(k.jsx)(F.a.HeaderCell,{children:"Remove From Journal"})]})}),Object(k.jsx)(F.a.Body,{children:m.papers.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.title}),Object(k.jsx)(F.a.Cell,{children:e.researcher}),Object(k.jsx)(F.a.Cell,{children:e.editor}),Object(k.jsx)(F.a.Cell,{children:e.em_name}),Object(k.jsx)(F.a.Cell,{children:e.status}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsxs)(N.a,{secondary:!0,icon:!0,onClick:function(t){Q(e),M(!0)},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"file alternate"}),"View File"]})}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(N.a,{color:"red",icon:!0,onClick:function(t){ve(e.id)},children:Object(k.jsx)(I.a,{name:"remove"})})})]},e.id)}))})]})]}),Object(k.jsxs)(G.a,{onClose:function(){return w(!1)},onOpen:function(){return w(!0)},open:C,dimmer:"blurring",size:"large",children:[Object(k.jsxs)(q.a,{textAlign:"center",children:["Select papers to add to ",m.title]}),Object(k.jsx)(G.a.Content,{scrolling:!0,children:Object(k.jsx)(U.a,{textAlign:"center",children:Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Title"}),Object(k.jsx)(F.a.HeaderCell,{children:"Researcher"}),Object(k.jsx)(F.a.HeaderCell,{children:"Status"}),Object(k.jsx)(F.a.HeaderCell,{children:"File"}),Object(k.jsx)(F.a.HeaderCell,{children:"Action"})]})}),Object(k.jsx)(F.a.Body,{children:P&&P.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.title}),Object(k.jsx)(F.a.Cell,{children:e.researcher}),Object(k.jsx)(F.a.Cell,{children:e.status}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsxs)(N.a,{secondary:!0,icon:!0,onClick:function(t){Q(e),M(!0)},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"file alternate"}),"View File"]})}),Object(k.jsx)(F.a.Cell,{children:void 0!==m.papers.find((function(t){return t.id===e.id}))?Object(k.jsxs)(N.a,{color:"red",icon:!0,animated:"fade",onClick:function(t){return ve(null===e||void 0===e?void 0:e.id)},labelPosition:"left",children:[Object(k.jsxs)(N.a.Content,{visible:!0,children:[Object(k.jsx)(I.a,{name:"check"}),"Added"]}),Object(k.jsxs)(N.a.Content,{hidden:!0,children:[Object(k.jsx)(I.a,{name:"delete"}),"Delete"]})]}):Object(k.jsxs)(N.a,{icon:!0,color:"violet",onClick:function(t){return fe(e.id)},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"plus"}),"Add to journal"]})})]},e.id)}))})]})})}),Object(k.jsx)(G.a.Actions,{children:Object(k.jsxs)(N.a,{primary:!0,onClick:function(){return w(!1)},children:[Object(k.jsx)(I.a,{name:"check"})," Done"]})})]}),Object(k.jsxs)(G.a,{dimmer:"inverted",onClose:function(){return M(!1)},onOpen:function(){return M(!0)},open:z,size:"fullscreen",children:[Object(k.jsx)(d.a,{clearing:!0,vertical:!0,padded:!0,children:Object(k.jsxs)(U.a,{className:"file-view-header",children:[Object(k.jsxs)(N.a,{primary:!0,floated:"right",onClick:function(e){M(!1),Q(null)},children:[Object(k.jsx)(I.a,{name:"check"})," Done"]}),void 0!==m.papers.find((function(e){return e.id===(null===J||void 0===J?void 0:J.id)}))?Object(k.jsxs)(N.a,{color:"red",icon:!0,animated:"fade",floated:"right",onClick:function(e){return ve(null===J||void 0===J?void 0:J.id)},labelPosition:"left",children:[Object(k.jsxs)(N.a.Content,{visible:!0,children:[Object(k.jsx)(I.a,{name:"check"}),"Added"]}),Object(k.jsxs)(N.a.Content,{hidden:!0,children:[Object(k.jsx)(I.a,{name:"delete"}),"Delete"]})]}):Object(k.jsxs)(N.a,{color:"violet",icon:!0,floated:"right",onClick:function(e){return fe(null===J||void 0===J?void 0:J.id)},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"plus"}),"Add to journal"]}),Object(k.jsxs)(q.a,{textAlign:"center",floated:"left",children:[null===J||void 0===J?void 0:J.title,Object(k.jsx)(q.a.Subheader,{children:null===J||void 0===J?void 0:J.researcher_email})]})]})}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(te.a,{defaultActive:!0,icon:"right circle arrow",placeholder:"/images/image-16by9.png",url:"http://localhost/storage/".concat(null===J||void 0===J?void 0:J.file_path)})})]})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{active:!0,inline:"centered"})})},ne=(c(217),function(){var e=Object(b.h)().id,t=Object(r.c)(s),c=Object(a.useState)(!0),n=Object(u.a)(c,2),i=n[0],l=n[1],j=Object(a.useState)(null),O=Object(u.a)(j,2),h=O[0],x=O[1],m=Object(a.useState)(!1),p=Object(u.a)(m,2),f=p[0],v=p[1],C=Object(a.useState)(null),w=Object(u.a)(C,2),y=w[0],_=w[1];return Object(a.useEffect)((function(){i&&(l(!1),g.get("/api/journals/".concat(e)).then((function(e){e.data.journal&&x(e.data.journal)})).catch((function(e){console.error(e)})))}),[i,e]),h?Object(k.jsxs)(U.a,{className:"view-user",children:[Object(k.jsx)(q.a,{dividing:!0,children:"Journal Info"}),Object(k.jsxs)(F.a,{definition:!0,children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{}),Object(k.jsx)(F.a.HeaderCell,{children:("admin"===t.type||"editor"===t.type)&&Object(k.jsxs)(N.a,{labelPosition:"left",floated:"right",icon:!0,secondary:!0,to:"/".concat(t.type,"/publications/").concat(e,"/edit"),as:o.b,size:"small",children:[Object(k.jsx)(I.a,{name:"pencil"}),"Edit Publication"]})})]})}),Object(k.jsxs)(F.a.Body,{children:[Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Title"}),Object(k.jsx)(F.a.Cell,{children:h.title})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Published Date"}),Object(k.jsx)(F.a.Cell,{children:h.published_date})]}),("admin"===t.type||"editor"===t.type)&&Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Status"}),Object(k.jsx)(F.a.Cell,{children:h.status})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Editor"}),Object(k.jsx)(F.a.Cell,{children:h.editor})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Editor Email"}),Object(k.jsx)(F.a.Cell,{children:h.editor_email})]}),("admin"===t.type||"editor"===t.type)&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Admin"}),Object(k.jsx)(F.a.Cell,{children:h.admin})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Admin Email"}),Object(k.jsx)(F.a.Cell,{children:h.admin_email})]})]})]})]}),h.papers&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(d.a,{clearing:!0,vertical:!0,children:Object(k.jsx)(q.a,{floated:"left",children:"Papers"})}),Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Title"}),Object(k.jsx)(F.a.HeaderCell,{children:"Researcher"}),("admin"===t.type||"editor"===t.type)&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Editor"}),Object(k.jsx)(F.a.HeaderCell,{children:"Metric Used"}),Object(k.jsx)(F.a.HeaderCell,{children:"Status"})]}),Object(k.jsx)(F.a.HeaderCell,{children:"File"})]})}),Object(k.jsx)(F.a.Body,{children:h.papers.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.title}),Object(k.jsx)(F.a.Cell,{children:e.researcher}),("admin"===t.type||"editor"===t.type)&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a.Cell,{children:e.editor}),Object(k.jsx)(F.a.Cell,{children:e.em_name}),Object(k.jsx)(F.a.Cell,{children:e.status})," "]}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsxs)(N.a,{secondary:!0,icon:!0,onClick:function(t){_(e),v(!0)},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"file alternate"}),"View File"]})})]},e.id)}))})]})]}),Object(k.jsxs)(G.a,{dimmer:"inverted",onClose:function(){return v(!1)},onOpen:function(){return v(!0)},open:f,size:"fullscreen",children:[Object(k.jsx)(d.a,{clearing:!0,vertical:!0,padded:!0,children:Object(k.jsxs)(U.a,{className:"file-view-header",children:[Object(k.jsxs)(N.a,{primary:!0,floated:"right",onClick:function(e){v(!1),_(null)},children:[Object(k.jsx)(I.a,{name:"check"})," Done"]}),Object(k.jsxs)(q.a,{textAlign:"center",floated:"left",children:[null===y||void 0===y?void 0:y.title,Object(k.jsx)(q.a.Subheader,{children:null===y||void 0===y?void 0:y.researcher_email})]})]})}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(te.a,{defaultActive:!0,icon:"right circle arrow",placeholder:"/images/image-16by9.png",url:"http://localhost/storage/".concat(null===y||void 0===y?void 0:y.file_path)})})]})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{active:!0,inline:"centered"})})}),ie=c(260),le=(c(218),function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)(null),l=Object(u.a)(i,2),r=l[0],s=l[1],j=Object(a.useState)(!1),o=Object(u.a)(j,2),b=o[0],O=o[1],x=Object(a.useState)(null),m=Object(u.a)(x,2),p=m[0],f=m[1];Object(a.useEffect)((function(){c&&(n(!1),g.get("/api/paper/withdrawn").then((function(e){e.data.papers&&s(e.data.papers)})).catch((function(e){console.error(e)})))}),[c]);var v=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];g.post("/api/paper/".concat(e,"/withdraw"),{approved:t}).then((function(c){c.data.success&&s(t?r.filter((function(t){return t.id!==e})):r.map((function(t){return t.id===e?Object(h.a)(Object(h.a)({},t),{},{withdrawal_status:"rejected"}):t})))})).catch((function(e){}))};return r?Object(k.jsxs)(U.a,{className:"edit-publication",children:[Object(k.jsx)(q.a,{dividing:!0,children:"Paper withrawal requests"}),r&&r.length>0?Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Title"}),Object(k.jsx)(F.a.HeaderCell,{children:"Researcher"}),Object(k.jsx)(F.a.HeaderCell,{children:"File"}),Object(k.jsx)(F.a.HeaderCell,{children:"Status"}),Object(k.jsx)(F.a.HeaderCell,{children:"Action"})]})}),Object(k.jsx)(F.a.Body,{children:r.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.title}),Object(k.jsx)(F.a.Cell,{children:e.researcher_email}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsxs)(N.a,{secondary:!0,icon:!0,onClick:function(t){f(e),O(!0)},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"file alternate"}),e.file_path]})}),Object(k.jsx)(F.a.Cell,{children:e.status}),Object(k.jsxs)(F.a.Cell,{children:["rejected"===e.withdrawal_status?Object(k.jsxs)(N.a,{icon:!0,color:"red",disabled:!0,labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"remove"}),"Rejected"]}):Object(k.jsxs)(N.a,{icon:!0,color:"red",onClick:function(){return v(e.id,!1)},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"remove"}),"Reject"]}),Object(k.jsxs)(N.a,{icon:!0,onClick:function(){return v(e.id)},color:"blue",labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"check"}),"Approve"]})]})]},e.id)}))})]}):Object(k.jsx)(ie.a,{children:"There are no withdrawal requests"}),Object(k.jsxs)(G.a,{dimmer:"inverted",onClose:function(){return O(!1)},onOpen:function(){return O(!0)},open:b,size:"fullscreen",children:[Object(k.jsx)(d.a,{clearing:!0,vertical:!0,padded:!0,children:Object(k.jsxs)(U.a,{className:"file-view-header",children:[Object(k.jsxs)(N.a,{primary:!0,floated:"right",onClick:function(e){O(!1),f(null)},children:[Object(k.jsx)(I.a,{name:"check"})," Done"]}),Object(k.jsxs)(q.a,{textAlign:"center",floated:"left",children:[null===p||void 0===p?void 0:p.title,Object(k.jsx)(q.a.Subheader,{children:null===p||void 0===p?void 0:p.researcher_email})]})]})}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(te.a,{defaultActive:!0,icon:"right circle arrow",placeholder:"/images/image-16by9.png",url:"http://localhost/storage/".concat(null===p||void 0===p?void 0:p.file_path)})})]})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{active:!0,inline:"centered"})})}),re=(c(219),function(){var e=Object(b.i)(),t=e.path,c=e.url;return Object(k.jsxs)("div",{className:"admin",children:[Object(k.jsx)(V,{url:c}),Object(k.jsx)("div",{className:"ui container middle",children:Object(k.jsxs)(b.d,{children:[Object(k.jsx)(b.b,{exact:!0,path:t,children:Object(k.jsx)(b.a,{to:"".concat(t,"/users")})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/users"),children:Object(k.jsx)(L,{})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/users/:id"),children:Object(k.jsx)(b.a,{to:"".concat(t,"/users/:id/view")})}),Object(k.jsx)(b.b,{path:"".concat(t,"/users/:id/view"),children:Object(k.jsx)(J,{})}),Object(k.jsx)(b.b,{path:"".concat(t,"/users/:id/edit"),children:Object(k.jsx)($,{})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/publications"),children:Object(k.jsx)(ee,{})}),Object(k.jsx)(b.b,{path:"".concat(t,"/publications/:id/view"),children:Object(k.jsx)(ne,{})}),Object(k.jsx)(b.b,{path:"".concat(t,"/publications/:id/edit"),children:Object(k.jsx)(ae,{})}),Object(k.jsx)(b.b,{path:"".concat(t,"/withdrawls"),children:Object(k.jsx)(le,{})})]})})]})}),se=(c(220),function(e){var t=e.url;return Object(k.jsxs)(j.a,{children:[Object(k.jsx)(j.a.Item,{exact:!0,to:"".concat(t,"/papers"),as:o.c,children:"Papers"}),Object(k.jsx)(j.a.Item,{exact:!0,to:"".concat(t,"/researchers"),as:o.c,children:"Researchers"}),Object(k.jsx)(j.a.Item,{exact:!0,to:"".concat(t,"/reviewers"),as:o.c,children:"Reviewers"}),Object(k.jsx)(j.a.Item,{exact:!0,to:"".concat(t,"/signups"),as:o.c,children:"Sign-ups"}),Object(k.jsx)(j.a.Item,{exact:!0,to:"".concat(t,"/publications"),as:o.c,children:"Publications"}),Object(k.jsx)(M,{})]})}),je=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),l=Object(u.a)(i,2),r=l[0],s=l[1],j=Object(a.useState)(null),b=Object(u.a)(j,2),O=b[0],h=b[1],x=Object(a.useState)(!1),m=Object(u.a)(x,2),p=m[0],f=m[1];return Object(a.useEffect)((function(){c&&(n(!1),g.get("/api/paper/all").then((function(e){e.data.papers&&s(e.data.papers)})).catch((function(e){console.log(e)})))}),[c]),Object(k.jsxs)(U.a,{className:"papers-list",children:[Object(k.jsx)(q.a,{floated:"left",children:"View Papers"}),Object(k.jsxs)(F.a,{celled:!0,children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Paper Id"}),Object(k.jsx)(F.a.HeaderCell,{children:"Title"}),Object(k.jsx)(F.a.HeaderCell,{children:"Status"}),Object(k.jsx)(F.a.HeaderCell,{children:"Researcher Name"}),Object(k.jsx)(F.a.HeaderCell,{children:"Researcher Email"}),Object(k.jsx)(F.a.HeaderCell,{children:"Actions"})]})}),Object(k.jsx)(F.a.Body,{children:r.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.id}),Object(k.jsx)(F.a.Cell,{children:e.title}),Object(k.jsx)(F.a.Cell,{children:e.status}),Object(k.jsx)(F.a.Cell,{children:e.researcher}),Object(k.jsx)(F.a.Cell,{children:e.researcher_email}),Object(k.jsxs)(F.a.Cell,{textAlign:"center",children:[Object(k.jsxs)(N.a,{secondary:!0,icon:!0,onClick:function(t){h(e),f(!0)},labelPosition:"center",children:[Object(k.jsx)(I.a,{name:"file alternate"}),e.file_path]}),Object(k.jsxs)(N.a,{primary:!0,animated:"vertical",to:"/editor/papers/".concat(e.id,"/details"),as:o.b,children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"View"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"eye"})})]}),Object(k.jsxs)(N.a,{tertiary:!0,animated:"vertical",to:"/editor/papers/".concat(e.id,"/edit"),as:o.b,children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Edit"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"pencil"})})]})]})]},e.id)}))})]}),Object(k.jsxs)(G.a,{dimmer:"inverted",onClose:function(){return f(!1)},onOpen:function(){return f(!0)},open:p,size:"fullscreen",children:[Object(k.jsx)(d.a,{clearing:!0,vertical:!0,padded:!0,children:Object(k.jsxs)(U.a,{className:"file-view-header",children:[Object(k.jsxs)(N.a,{primary:!0,floated:"right",onClick:function(e){f(!1),h(null)},children:[Object(k.jsx)(I.a,{name:"check"})," Done"]}),Object(k.jsxs)(q.a,{textAlign:"center",floated:"left",children:[null===O||void 0===O?void 0:O.title,Object(k.jsx)(q.a.Subheader,{children:null===O||void 0===O?void 0:O.researcher_email})]})]})}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(te.a,{defaultActive:!0,icon:"right circle arrow",placeholder:"/images/image-16by9.png",url:"http://localhost/storage/".concat(null===O||void 0===O?void 0:O.file_path)})})]})]})},de=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),l=Object(u.a)(i,2),r=l[0],s=l[1];return Object(a.useEffect)((function(){c&&(n(!1),g.get("/api/users/of_type/researcher").then((function(e){e.data.users&&s(e.data.users)})).catch((function(e){console.log(e)})))}),[c]),Object(k.jsxs)("div",{className:"researchers-list",children:[Object(k.jsx)(q.a,{floated:"left",children:"View Researchers"}),Object(k.jsxs)(F.a,{celled:!0,children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Name"}),Object(k.jsx)(F.a.HeaderCell,{children:"Actions"})]})}),Object(k.jsx)(F.a.Body,{children:r.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.first_name+" "+e.last_name}),Object(k.jsxs)(F.a.Cell,{textAlign:"center",children:[Object(k.jsxs)(N.a,{primary:!0,animated:"vertical",to:"/editor/researchers/".concat(e.id,"/view"),as:o.b,children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"View"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"eye"})})]}),Object(k.jsxs)(N.a,{secondary:!0,animated:"vertical",to:"/editor/researchers/".concat(e.id,"/papers"),as:o.b,children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Papers"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"file text"})})]})]})]},e.id)}))})]})]})},oe=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),l=Object(u.a)(i,2),r=l[0],s=l[1];return Object(a.useEffect)((function(){c&&(n(!1),g.get("/api/users/of_type/reviewer").then((function(e){e.data.users&&s(e.data.users)})).catch((function(e){console.log(e)})))}),[c]),Object(k.jsxs)("div",{className:"reviewers-list",children:[Object(k.jsx)(q.a,{floated:"left",children:"View Reviewers"}),Object(k.jsxs)(F.a,{celled:!0,children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Name"}),Object(k.jsx)(F.a.HeaderCell,{children:"Actions"})]})}),Object(k.jsx)(F.a.Body,{children:r.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.first_name+" "+e.last_name}),Object(k.jsxs)(F.a.Cell,{textAlign:"center",children:[Object(k.jsxs)(N.a,{primary:!0,animated:"vertical",to:"/editor/reviewers/".concat(e.id,"/view"),as:o.b,children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"View"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"eye"})})]}),Object(k.jsxs)(N.a,{secondary:!0,animated:"vertical",to:"/editor/reviewers/".concat(e.id,"/papers"),as:o.b,children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Papers"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"file text"})})]})]})]},e.id)}))})]})]})},be=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),l=Object(u.a)(i,2),r=l[0],s=l[1],j=Object(a.useState)(!1),d=Object(u.a)(j,2),o=d[0],b=d[1],O=Object(a.useState)(null),h=Object(u.a)(O,2),x=h[0],m=h[1];Object(a.useEffect)((function(){c&&(n(!1),g.get("/api/users/signups").then((function(e){e.data.users&&s(e.data.users)})).catch((function(e){console.log(e)})))}),[c]);return Object(k.jsxs)("div",{className:"signups-list",children:[Object(k.jsx)(q.a,{floated:"left",children:"View Signups"}),Object(k.jsxs)(F.a,{celled:!0,children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Name"}),Object(k.jsx)(F.a.HeaderCell,{children:"Type"}),Object(k.jsx)(F.a.HeaderCell,{children:"Satus"}),Object(k.jsx)(F.a.HeaderCell,{children:"Email"}),Object(k.jsx)(F.a.HeaderCell,{children:"Admin Email"}),Object(k.jsx)(F.a.HeaderCell,{children:"Actions"})]})}),Object(k.jsx)(F.a.Body,{children:r.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.first_name+" "+e.last_name}),Object(k.jsx)(F.a.Cell,{children:e.type}),Object(k.jsx)(F.a.Cell,{children:e.status}),Object(k.jsx)(F.a.Cell,{children:e.email}),Object(k.jsx)(F.a.Cell,{children:e.admin_email}),Object(k.jsxs)(F.a.Cell,{textAlign:"center",children:[Object(k.jsxs)(N.a,{color:"green",animated:"vertical",onClick:function(t){var c;c=e.id,g.post("/api/users/".concat(c,"/change_status")).then((function(e){e.data.success&&s(r.filter((function(e){return e.id!==c})))})).catch((function(e){console.error(e)}))},children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Add"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"checkmark"})})]}),Object(k.jsxs)(N.a,{color:"red",animated:"vertical",onClick:function(t){b(!0),m({firstname:e.first_name,last_name:e.last_name,id:e.id})},children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Remove"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"x"})})]})]})]},e.id)}))})]}),Object(k.jsxs)(G.a,{basic:!0,onClose:function(){return b(!1)},onOpen:function(){return b(!0)},open:o,dimmer:"blurring",size:"small",children:[Object(k.jsxs)(q.a,{icon:!0,textAlign:"center",children:[Object(k.jsx)(I.a,{name:"book"}),"Remove user ",(null===x||void 0===x?void 0:x.firstname)+" "+(null===x||void 0===x?void 0:x.last_name),"?"]}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(U.a,{textAlign:"center",children:Object(k.jsx)("p",{className:"align center",children:"This will permanently remove the user and all of their related data."})})}),Object(k.jsxs)(G.a.Actions,{children:[Object(k.jsxs)(N.a,{color:"blue",inverted:!0,onClick:function(){return b(!1)},children:[Object(k.jsx)(I.a,{name:"remove"})," No"]}),Object(k.jsxs)(N.a,{color:"red",inverted:!0,onClick:function(){var e;b(!1),e=null===x||void 0===x?void 0:x.id,g.post("/api/users/".concat(e,"/remove")).then((function(t){t.data.success&&(m(null),s(r.filter((function(t){return t.id!==e}))))})).catch((function(e){console.error(e)})),m(null)},children:[Object(k.jsx)(I.a,{name:"checkmark"})," Yes"]})]})]})]})},Oe=function(){var e=Object(b.h)().id,t=Object(a.useState)(!0),c=Object(u.a)(t,2),n=c[0],i=c[1],l=Object(a.useState)(!1),r=Object(u.a)(l,2),s=r[0],j=r[1],d=Object(a.useState)(null),o=Object(u.a)(d,2),O=o[0],h=o[1],x=Object(a.useState)([]),m=Object(u.a)(x,2),p=m[0],f=m[1];return Object(a.useEffect)((function(){n&&(i(!1),g.get("/api/users/".concat(e)).then((function(e){e.data.user&&(h(e.data.user),"researcher"===e.data.user.type&&j(!0))})).catch((function(e){console.error(e)})))}),[n,e]),Object(a.useEffect)((function(){s&&"researcher"===(null===O||void 0===O?void 0:O.type)&&(j(!1),g.get("/api/users/".concat(e,"/degrees")).then((function(e){e.data.degrees&&f(e.data.degrees)})).catch((function(e){})))}),[O,s,e]),O?Object(k.jsxs)(U.a,{className:"view-researcher",children:[Object(k.jsx)(q.a,{dividing:!0,children:"User Info"}),Object(k.jsx)(F.a,{definition:!0,children:Object(k.jsxs)(F.a.Body,{children:[Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"First Name"}),Object(k.jsx)(F.a.Cell,{children:O.first_name})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Last Name"}),Object(k.jsx)(F.a.Cell,{children:O.last_name})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Type"}),Object(k.jsx)(F.a.Cell,{children:O.type})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Status"}),Object(k.jsx)(F.a.Cell,{children:O.status})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Email"}),Object(k.jsx)(F.a.Cell,{children:O.email})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"ID"}),Object(k.jsx)(F.a.Cell,{children:O.id})]}),O.admin_email&&Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Admin Email"}),Object(k.jsx)(F.a.Cell,{children:O.admin_email})]})]})}),"researcher"===O.type&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(q.a,{dividing:!0,children:"Degrees"}),Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Title"}),Object(k.jsx)(F.a.HeaderCell,{children:"Intitution"}),Object(k.jsx)(F.a.HeaderCell,{children:"Received"})]})}),Object(k.jsx)(F.a.Body,{children:p.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.title}),Object(k.jsx)(F.a.Cell,{children:e.institution}),Object(k.jsx)(F.a.Cell,{children:e.received})]})}))})]})]})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{active:!0,inline:"centered"})})},he=function(){var e=Object(b.h)().id,t=Object(a.useState)(!0),c=Object(u.a)(t,2),n=c[0],i=c[1],l=Object(a.useState)(null),r=Object(u.a)(l,2),s=r[0],j=r[1];return Object(a.useEffect)((function(){n&&(i(!1),g.get("/api/users/".concat(e)).then((function(e){e.data.user&&j(e.data.user)})).catch((function(e){console.error(e)})))}),[n,e]),s?Object(k.jsxs)(U.a,{className:"view-reviewer",children:[Object(k.jsx)(q.a,{dividing:!0,children:"User Info"}),Object(k.jsx)(F.a,{definition:!0,children:Object(k.jsxs)(F.a.Body,{children:[Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"First Name"}),Object(k.jsx)(F.a.Cell,{children:s.first_name})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Last Name"}),Object(k.jsx)(F.a.Cell,{children:s.last_name})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Type"}),Object(k.jsx)(F.a.Cell,{children:s.type})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Status"}),Object(k.jsx)(F.a.Cell,{children:s.status})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Email"}),Object(k.jsx)(F.a.Cell,{children:s.email})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"ID"}),Object(k.jsx)(F.a.Cell,{children:s.id})]}),s.admin_email&&Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Admin Email"}),Object(k.jsx)(F.a.Cell,{children:s.admin_email})]})]})})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{active:!0,inline:"centered"})})},ue=function(){return Object(k.jsx)("div",{className:"view-signup",children:"view_signup"})},xe=(c(221),function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),l=Object(u.a)(i,2),r=l[0],s=l[1],j=Object(a.useState)(!1),O=Object(u.a)(j,2),h=O[0],x=O[1],m=Object(a.useState)(null),p=Object(u.a)(m,2),f=p[0],v=p[1],C=Object(b.h)().id;return Object(a.useEffect)((function(){c&&(n(!1),g.get("/api/paper/by_researcher/".concat(C)).then((function(e){e.data.papers&&s(e.data.papers)})).catch((function(e){console.log(e)})))}),[c,C]),r?Object(k.jsxs)(U.a,{className:"view-papers-res",children:[Object(k.jsx)(q.a,{floated:"left",children:"View Papers By Researcher"}),Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Paper Id"}),Object(k.jsx)(F.a.HeaderCell,{children:"Title"}),Object(k.jsx)(F.a.HeaderCell,{children:"Status"}),Object(k.jsx)(F.a.HeaderCell,{children:"File"}),Object(k.jsx)(F.a.HeaderCell,{children:"Actions"})]})}),Object(k.jsx)(F.a.Body,{children:r.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.id}),Object(k.jsx)(F.a.Cell,{children:e.title}),Object(k.jsx)(F.a.Cell,{children:e.status}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsxs)(N.a,{secondary:!0,icon:!0,onClick:function(t){v(e),x(!0)},labelPosition:"center",children:[Object(k.jsx)(I.a,{name:"file alternate"}),e.file_path]})}),Object(k.jsxs)(F.a.Cell,{textAlign:"center",children:[Object(k.jsxs)(N.a,{primary:!0,animated:"vertical",to:"/editor/papers/".concat(e.id,"/details"),as:o.b,children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"View"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"eye"})})]}),Object(k.jsxs)(N.a,{tertiary:!0,animated:"vertical",to:"/editor/papers/".concat(e.id,"/edit"),as:o.b,children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Edit"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"pencil"})})]})]})]},e.id)}))})]}),Object(k.jsxs)(G.a,{dimmer:"inverted",onClose:function(){return x(!1)},onOpen:function(){return x(!0)},open:h,size:"fullscreen",children:[Object(k.jsx)(d.a,{clearing:!0,vertical:!0,padded:!0,children:Object(k.jsxs)(U.a,{className:"file-view-header",children:[Object(k.jsxs)(N.a,{primary:!0,floated:"right",onClick:function(e){x(!1),v(null)},children:[Object(k.jsx)(I.a,{name:"check"})," Done"]}),Object(k.jsxs)(q.a,{textAlign:"center",floated:"left",children:[null===f||void 0===f?void 0:f.title,Object(k.jsx)(q.a.Subheader,{children:null===f||void 0===f?void 0:f.researcher_email})]})]})}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(te.a,{defaultActive:!0,icon:"right circle arrow",placeholder:"/images/image-16by9.png",url:"http://localhost/storage/".concat(null===f||void 0===f?void 0:f.file_path)})})]})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{})})}),me=(c(222),function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),l=Object(u.a)(i,2),r=l[0],s=l[1],j=Object(a.useState)(null),O=Object(u.a)(j,2),h=O[0],x=O[1],m=Object(a.useState)(!1),p=Object(u.a)(m,2),f=p[0],v=p[1],C=Object(b.h)().id;return Object(a.useEffect)((function(){c&&(n(!1),g.get("/api/assigned/reviewer/".concat(C)).then((function(e){e.data.assigneds&&s(e.data.assigneds)})).catch((function(e){console.log(e)})))}),[c,C]),Object(k.jsxs)(U.a,{className:"view-papers-rev",children:[Object(k.jsx)(q.a,{floated:"left",children:"View Papers Assigned to Reviewer"}),Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Paper Id"}),Object(k.jsx)(F.a.HeaderCell,{children:"Title"}),Object(k.jsx)(F.a.HeaderCell,{children:"Status"}),Object(k.jsx)(F.a.HeaderCell,{children:"Researcher Email"}),Object(k.jsx)(F.a.HeaderCell,{children:"Revision Deadline"}),Object(k.jsx)(F.a.HeaderCell,{children:"File"}),Object(k.jsx)(F.a.HeaderCell,{children:"Actions"})]})}),Object(k.jsx)(F.a.Body,{children:r.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.paper_id}),Object(k.jsx)(F.a.Cell,{children:e.title}),Object(k.jsx)(F.a.Cell,{children:e.status}),Object(k.jsx)(F.a.Cell,{children:e.researcher_email}),Object(k.jsx)(F.a.Cell,{children:e.revision_deadline}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsxs)(N.a,{secondary:!0,icon:!0,onClick:function(t){x(e),v(!0)},labelPosition:"center",children:[Object(k.jsx)(I.a,{name:"file alternate"}),e.file_path]})}),Object(k.jsxs)(F.a.Cell,{textAlign:"center",children:[Object(k.jsxs)(N.a,{primary:!0,animated:"vertical",to:"/editor/papers/".concat(e.paper_id,"/details"),as:o.b,children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"View"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"eye"})})]}),Object(k.jsxs)(N.a,{tertiary:!0,animated:"vertical",to:"/editor/papers/".concat(e.paper_id,"/edit"),as:o.b,children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Edit"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"pencil"})})]})]})]},e.id)}))})]}),Object(k.jsxs)(G.a,{dimmer:"inverted",onClose:function(){return v(!1)},onOpen:function(){return v(!0)},open:f,size:"fullscreen",children:[Object(k.jsx)(d.a,{clearing:!0,vertical:!0,padded:!0,children:Object(k.jsxs)(U.a,{className:"file-view-header",children:[Object(k.jsxs)(N.a,{primary:!0,floated:"right",onClick:function(e){v(!1),x(null)},children:[Object(k.jsx)(I.a,{name:"check"})," Done"]}),Object(k.jsxs)(q.a,{textAlign:"center",floated:"left",children:[null===h||void 0===h?void 0:h.title,Object(k.jsx)(q.a.Subheader,{children:null===h||void 0===h?void 0:h.researcher_email})]})]})}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(te.a,{defaultActive:!0,icon:"right circle arrow",placeholder:"/images/image-16by9.png",url:"http://localhost/storage/".concat(null===h||void 0===h?void 0:h.file_path)})})]})]})}),pe=(c(223),c(261)),fe=function(e){var t=e.status,c=void 0===t?"":t,a=e.edit,n=void 0===a?null:a;return Object(k.jsxs)(pe.a.Group,{children:[Object(k.jsx)(pe.a,{active:"pending_assignment"===c,link:!!n,onClick:function(e){return n&&n("pending_assignment")},children:Object(k.jsxs)(pe.a.Content,{children:[Object(k.jsx)(pe.a.Title,{children:"Pending Assignment"}),Object(k.jsx)(pe.a.Description,{children:"Waiting to be assigned an evaluation metric"})]})}),Object(k.jsx)(pe.a,{active:"pending_revision"===c,link:!!n,onClick:function(e){return n&&n("pending_revision")},children:Object(k.jsxs)(pe.a.Content,{children:[Object(k.jsx)(pe.a.Title,{children:"Pending Revision"}),Object(k.jsx)(pe.a.Description,{children:"Waiting to be reviewed by reviewers"})]})}),Object(k.jsx)(pe.a,{active:"pending_publication"===c,link:!!n,onClick:function(e){return n&&n("pending_publication")},children:Object(k.jsxs)(pe.a.Content,{children:[Object(k.jsx)(pe.a.Title,{children:"Pending Publication"}),Object(k.jsx)(pe.a.Description,{children:"Waiting to be published"})]})}),Object(k.jsx)(pe.a,{active:"published"===c,link:!!n,onClick:function(e){return n&&n("published")},children:Object(k.jsxs)(pe.a.Content,{children:[Object(k.jsx)(pe.a.Title,{children:"Published"}),Object(k.jsx)(pe.a.Description,{children:"Published onto a journal!"})]})})]})},ve=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),l=Object(u.a)(i,2),r=l[0],s=l[1],j=Object(a.useState)([]),O=Object(u.a)(j,2),h=O[0],x=O[1],m=Object(a.useState)([]),p=Object(u.a)(m,2),f=p[0],v=p[1],C=Object(a.useState)(!1),w=Object(u.a)(C,2),y=w[0],_=w[1],S=Object(a.useState)(null),R=Object(u.a)(S,2),H=R[0],A=(R[1],Object(a.useState)(!1)),E=Object(u.a)(A,2),P=(E[0],E[1],Object(b.h)().id);return Object(a.useEffect)((function(){c&&(n(!1),g.get("/api/paper/".concat(P)).then((function(e){e.data.paper&&s(e.data.paper),e.data.nominated&&v(e.data.nominated),e.data.assigned&&x(e.data.assigned)})).catch((function(e){console.log(e)})))}),[c,P]),r?Object(k.jsxs)(U.a,{className:"paper-details",children:[Object(k.jsxs)(d.a,{clearing:!0,vertical:!0,children:[Object(k.jsx)(q.a,{floated:"left",children:"Paper Info"}),Object(k.jsxs)(N.a,{floated:"right",icon:!0,secondary:!0,to:"/editor/papers/".concat(P,"/edit"),as:o.b,labelPosition:"left",size:"small",children:[Object(k.jsx)(I.a,{name:"plus"}),"Edit Paper"]})]}),Object(k.jsx)(F.a,{definition:!0,children:Object(k.jsxs)(F.a.Body,{children:[Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Paper Id"}),Object(k.jsx)(F.a.Cell,{children:r.id})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Title"}),Object(k.jsx)(F.a.Cell,{children:r.title})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Status"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(fe,{status:r.status})})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Researcher Name"}),Object(k.jsx)(F.a.Cell,{children:r.researcher})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Researcher Email"}),Object(k.jsx)(F.a.Cell,{children:r.researcher_email})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"File"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsxs)(N.a,{secondary:!0,icon:!0,onClick:function(e){_(!0)},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"file alternate"}),"View File"]})})]})]})}),Object(k.jsx)(T.a,{}),Object(k.jsx)(d.a,{clearing:!0,vertical:!0,children:Object(k.jsxs)(q.a,{children:["Evaluation Metric: ",null===H||void 0===H?void 0:H.name]})}),Object(k.jsx)(T.a,{hidden:!0}),Object(k.jsx)(B.a.Group,{children:null===H||void 0===H?void 0:H.questions.map((function(e){return Object(k.jsx)(B.a,{children:Object(k.jsxs)(B.a.Content,{children:[Object(k.jsx)(B.a.Header,{children:e.question}),Object(k.jsx)(B.a.Meta,{children:Object(k.jsx)("span",{children:e.answer_type})})]})})}))}),Object(k.jsx)(T.a,{}),Object(k.jsx)(d.a,{clearing:!0,vertical:!0,children:Object(k.jsx)(q.a,{floated:"left",children:"Nominated Reviewers"})}),Object(k.jsxs)(F.a,{celled:!0,children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Name"}),Object(k.jsx)(F.a.HeaderCell,{children:"Email"})]})}),Object(k.jsx)(F.a.Body,{children:f&&f.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.reviewer}),Object(k.jsx)(F.a.Cell,{children:e.reviewer_email})]},e.id)}))})]}),Object(k.jsx)(T.a,{}),Object(k.jsx)(d.a,{clearing:!0,vertical:!0,children:Object(k.jsx)(q.a,{floated:"left",children:"Assigned Reviewers"})}),Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Name"}),Object(k.jsx)(F.a.HeaderCell,{children:"Email"})]})}),Object(k.jsx)(F.a.Body,{children:h&&h.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.reviewer}),Object(k.jsx)(F.a.Cell,{children:e.reviewer_email})]},e.id)}))})]}),Object(k.jsxs)(G.a,{dimmer:"inverted",onClose:function(){return _(!1)},onOpen:function(){return _(!0)},open:y,size:"fullscreen",children:[Object(k.jsx)(d.a,{clearing:!0,vertical:!0,padded:!0,children:Object(k.jsxs)(U.a,{className:"file-view-header",children:[Object(k.jsxs)(N.a,{primary:!0,floated:"right",onClick:function(e){_(!1)},children:[Object(k.jsx)(I.a,{name:"check"})," Done"]}),Object(k.jsxs)(q.a,{textAlign:"center",floated:"left",children:[null===r||void 0===r?void 0:r.title,Object(k.jsx)(q.a.Subheader,{children:null===r||void 0===r?void 0:r.researcher_email})]})]})}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(te.a,{defaultActive:!0,icon:"right circle arrow",placeholder:"/images/image-16by9.png",url:"http://localhost/storage/".concat(null===r||void 0===r?void 0:r.file_path)})})]})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{active:!0,inline:"centered"})})},Ce=function(){var e=Object(b.h)().id,t=Object(a.useState)(!0),c=Object(u.a)(t,2),n=c[0],i=c[1],l=Object(a.useState)(null),r=Object(u.a)(l,2),s=r[0],j=r[1],o=Object(a.useState)(null),x=Object(u.a)(o,2),m=x[0],p=x[1],f=Object(a.useState)(null),v=Object(u.a)(f,2),C=v[0],w=v[1],y=Object(a.useState)(null),S=Object(u.a)(y,2),R=S[0],H=S[1],A=Object(a.useState)(!1),E=Object(u.a)(A,2),P=E[0],D=E[1],z=Object(a.useState)(null),M=Object(u.a)(z,2),V=M[0],L=M[1],J=Object(a.useState)(!1),Q=Object(u.a)(J,2),K=Q[0],X=Q[1],Z=Object(a.useState)(!1),$=Object(u.a)(Z,2),ee=$[0],ce=$[1],ae=Object(a.useState)(null),ne=Object(u.a)(ae,2),ie=ne[0],le=ne[1],re=Object(a.useState)(!1),se=Object(u.a)(re,2),je=se[0],de=se[1],oe=Object(a.useState)(null),be=Object(u.a)(oe,2),Oe=be[0],he=be[1],ue=Object(a.useState)(!1),xe=Object(u.a)(ue,2),me=(xe[0],xe[1]),pe=Object(a.useState)({}),ve=Object(u.a)(pe,2),Ce=ve[0],ge=(ve[1],Object(a.useState)({})),we=Object(u.a)(ge,2),ye=we[0],_e=we[1],ke=Object(a.useState)(!1),Se=Object(u.a)(ke,2),Re=Se[0],He=Se[1],Ne=Object(a.useState)(!1),Ae=Object(u.a)(Ne,2),Ee=Ae[0],Pe=Ae[1],Fe=Object(a.useState)(null),Ie=Object(u.a)(Fe,2),Te=Ie[0],qe=Ie[1];Object(a.useEffect)((function(){n&&(i(!1),g.get("/api/paper/".concat(e)).then((function(e){e.data.paper&&j(e.data.paper),e.data.nominated&&p(e.data.nominated.map((function(t){return e.data.assigned.find((function(e){return e.reviewer_id===t.reviewer_id}))?Object(h.a)(Object(h.a)({},t),{},{assigned:!0}):t}))),e.data.assigned&&H(e.data.assigned),e.data.withdraw&&me(e.data.withdraw),e.data.evaluation_metric&&he(e.data.evaluation_metric),He(!0)})).catch((function(e){console.error(e)})))}),[n,e]),Object(a.useEffect)((function(){Re&&(He(!1),g.get("/api/users/of_type/reviewer").then((function(e){e.data.users&&L(e.data.users.filter((function(e){return void 0===R.find((function(t){return t.reviewer_email===e.email}))})).filter((function(e){return void 0===m.find((function(t){return t.reviewer_email===e.email}))})).map((function(e){return{key:e.email,text:e.first_name+" "+e.last_name,value:e.email}})))})).catch((function(e){})))}),[R,Re,e,m]);var Be=function(t,c){g.post("/api/paper/".concat(e,"/edit"),Object(O.a)({},t,c)).then((function(e){e.data.success&&_e(Object(h.a)(Object(h.a)({},ye),{},Object(O.a)({},t,!1))),j(Object(h.a)(Object(h.a)({},s),{},Object(O.a)({},t,c)))})).catch((function(e){}))};return s?Object(k.jsxs)(U.a,{children:[Object(k.jsx)(d.a,{clearing:!0,vertical:!0,children:Object(k.jsx)(q.a,{floated:"left",children:"Edit Paper"})}),Object(k.jsx)(F.a,{definition:!0,children:Object(k.jsxs)(F.a.Body,{children:[Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Title"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(_.a.Field,{children:Object(k.jsx)(_.a.Input,{placeholder:"Title",name:"title",value:s.title,onChange:function(e,t){var c=t.name,a=t.value;j(Object(h.a)(Object(h.a)({},s),{},Object(O.a)({},c,a))),_e(Object(h.a)(Object(h.a)({},ye),{},Object(O.a)({},c,a)))},error:Ce&&Ce.title&&{content:Ce.title.join(" & "),pointing:"left"},icon:(null===ye||void 0===ye?void 0:ye.title)&&{name:"save",circular:!0,link:!0,onClick:function(e){return Be("title",s.title)}}})})})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Status"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(fe,{status:s.status,edit:function(e){return Be("status",e)}})})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Researcher"}),Object(k.jsx)(F.a.Cell,{children:s.researcher})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Researcher Email"}),Object(k.jsx)(F.a.Cell,{children:s.researcher_email})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"File"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsxs)(N.a,{secondary:!0,icon:!0,onClick:function(e){D(!0)},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"file alternate"}),"View File"]})})]})]})}),Object(k.jsx)(T.a,{}),Object(k.jsx)(d.a,{clearing:!0,vertical:!0,children:Object(k.jsxs)(q.a,{children:["Evaluation Metric: ",null===Oe||void 0===Oe?void 0:Oe.name]})}),Object(k.jsx)(T.a,{hidden:!0}),Object(k.jsx)(B.a.Group,{children:null===Oe||void 0===Oe?void 0:Oe.questions.map((function(e){return Object(k.jsx)(B.a,{children:Object(k.jsxs)(B.a.Content,{children:[Object(k.jsx)(B.a.Header,{children:e.question}),Object(k.jsx)(B.a.Meta,{children:Object(k.jsx)("span",{children:e.answer_type})})]})})}))}),Object(k.jsx)(T.a,{}),Object(k.jsx)(d.a,{clearing:!0,vertical:!0,children:Object(k.jsx)(q.a,{floated:"left",children:"Nominated Reviewers"})}),Object(k.jsxs)(F.a,{celled:!0,children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Name"}),Object(k.jsx)(F.a.HeaderCell,{children:"Email"}),Object(k.jsx)(F.a.HeaderCell,{textAlign:"center",children:"Actions"})]})}),Object(k.jsx)(F.a.Body,{children:m&&m.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.reviewer}),Object(k.jsx)(F.a.Cell,{children:e.reviewer_email}),Object(k.jsx)(F.a.Cell,{textAlign:"center",children:!e.assigned&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(N.a,{color:"green",animated:"vertical",onClick:function(t){var c;c={paper_id:s.id,researcher_email:s.researcher_email,reviewer_email:e.reviewer_email,revision_deadline:"2021-01-02"},g.post("/api/assigned/new",{paper_id:c.paper_id,researcher_email:c.researcher_email,reviewer_email:c.reviewer_email,revision_deadline:c.revision_deadline}).then((function(e){e.data.success&&i(!0)})).catch((function(e){console.error(e.response)}))},children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Add"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"checkmark"})})]}),Object(k.jsxs)(N.a,{color:"red",animated:"vertical",onClick:function(t){w({name:e.reviewer,email:e.reviewer_email,paper_id:s.id,user_id:e.id}),X(!0),le({action:"Are you sure you want to reject the nominated reviewer:"}),de(!0)},children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Remove"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"x"})})]})]})})]},e.id)}))})]}),Object(k.jsx)(T.a,{}),Object(k.jsxs)(d.a,{clearing:!0,vertical:!0,children:[Object(k.jsx)(q.a,{floated:"left",children:"Assigned Reviewers"}),Ee?Object(k.jsxs)(N.a,{floated:"right",icon:!0,color:"green",onClick:function(e){g.post("/api/assigned/new",{paper_id:s.id,researcher_email:s.researcher_email,reviewer_email:Te,revision_deadline:"2021-05-23"}).then((function(e){e.data.success&&(qe(null),Pe(!1),e.data.assigned&&(H([].concat(Object(W.a)(R),[e.data.assigned])),console.log(V),console.log(e.data.nominated),L(V.filter((function(t){return t.key!==e.data.assigned.reviewer_email})))))})).catch((function(e){console.error(e.response)}))},labelPosition:"left",size:"small",children:[Object(k.jsx)(I.a,{name:"save"}),"Assign this reviewer"]}):Object(k.jsxs)(N.a,{floated:"right",icon:!0,primary:!0,onClick:function(e){return Pe(!0)},labelPosition:"left",size:"small",children:[Object(k.jsx)(I.a,{name:"plus"}),"Assign Reviewer"]})]}),Object(k.jsxs)(F.a,{celled:!0,children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Name"}),Object(k.jsx)(F.a.HeaderCell,{children:"Email"}),Object(k.jsx)(F.a.HeaderCell,{textAlign:"center",children:"Actions"})]})}),Object(k.jsxs)(F.a.Body,{children:[Ee&&Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(_.a.Select,{placeholder:"Reviewer",name:"reviewer",search:!0,value:Te,onChange:function(e,t){t.name;var c=t.value;qe(c)},options:V})}),Object(k.jsx)(F.a.Cell,{children:Te&&Te})]}),R&&R.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.reviewer}),Object(k.jsx)(F.a.Cell,{children:e.reviewer_email}),Object(k.jsx)(F.a.Cell,{textAlign:"center",children:Object(k.jsxs)(N.a,{color:"red",animated:"vertical",onClick:function(t){w({name:e.reviewer,email:e.reviewer_email,user_id:e.id,paper_id:s.id}),ce(!0),le({action:"Are you sure you want to remove the assigned reviewer:"}),de(!0)},children:[Object(k.jsx)(N.a.Content,{hidden:!0,children:"Remove"}),Object(k.jsx)(N.a.Content,{visible:!0,children:Object(k.jsx)(I.a,{name:"x"})})]})})]},e.id)}))]})]}),Object(k.jsxs)(G.a,{dimmer:"inverted",onClose:function(){return D(!1)},onOpen:function(){return D(!0)},open:P,size:"fullscreen",children:[Object(k.jsx)(d.a,{clearing:!0,vertical:!0,padded:!0,children:Object(k.jsxs)(U.a,{className:"file-view-header",children:[Object(k.jsxs)(N.a,{primary:!0,floated:"right",onClick:function(e){D(!1)},children:[Object(k.jsx)(I.a,{name:"check"})," Done"]}),Object(k.jsxs)(q.a,{textAlign:"center",floated:"left",children:[null===s||void 0===s?void 0:s.title,Object(k.jsx)(q.a.Subheader,{children:null===s||void 0===s?void 0:s.researcher_email})]})]})}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(te.a,{defaultActive:!0,icon:"right circle arrow",placeholder:"/images/image-16by9.png",url:"http://localhost/storage/".concat(null===s||void 0===s?void 0:s.file_path)})})]}),Object(k.jsxs)(G.a,{basic:!0,onClose:function(){return de(!1)},onOpen:function(){return de(!0)},open:je,dimmer:"blurring",size:"small",children:[Object(k.jsxs)(q.a,{icon:!0,textAlign:"center",children:[Object(k.jsx)(I.a,{name:"book"}),null===ie||void 0===ie?void 0:ie.action," ",null===C||void 0===C?void 0:C.name]}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(U.a,{textAlign:"center",children:Object(k.jsx)("p",{className:"align center",children:"This will remove the reviewer from the paper."})})}),Object(k.jsxs)(G.a.Actions,{children:[Object(k.jsxs)(N.a,{color:"blue",inverted:!0,onClick:function(){return de(!1)},children:[Object(k.jsx)(I.a,{name:"remove"})," No"]}),Object(k.jsxs)(N.a,{color:"red",inverted:!0,onClick:function(){var e;e=C,K?g.post("/api/nominated/remove",{paper_id:e.paper_id,reviewer_email:e.email}).then((function(e){e.data.success&&(i(!0),X(!1))})).catch((function(e){console.error(e.response)})):ee&&g.post("/api/assigned/remove",{paper_id:e.paper_id,reviewer_email:e.email}).then((function(e){e.data.success&&(i(!0),ce(!1))})).catch((function(e){console.error(e.response)})),de(!1)},children:[Object(k.jsx)(I.a,{name:"checkmark"})," Yes"]})]})]})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{})})},ge=(c(224),function(){var e=Object(b.i)(),t=e.path,c=e.url;return Object(k.jsxs)("div",{className:"editor",children:[Object(k.jsx)(se,{url:c}),Object(k.jsx)("div",{className:"ui container middle",children:Object(k.jsxs)(b.d,{children:[Object(k.jsx)(b.b,{exact:!0,path:t,children:Object(k.jsx)(b.a,{to:"".concat(t,"/papers")})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/papers"),children:Object(k.jsx)(je,{})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/papers/:id"),children:Object(k.jsx)(b.a,{to:"".concat(t,"/papers/:id/details")})}),Object(k.jsx)(b.b,{path:"".concat(t,"/papers/:id/details"),children:Object(k.jsx)(ve,{})}),Object(k.jsx)(b.b,{path:"".concat(t,"/papers/:id/edit"),children:Object(k.jsx)(Ce,{})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/researchers"),children:Object(k.jsx)(de,{})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/researchers/:id"),children:Object(k.jsx)(b.a,{to:"".concat(t,"/researchers/:id/view")})}),Object(k.jsx)(b.b,{path:"".concat(t,"/researchers/:id/view"),children:Object(k.jsx)(Oe,{})}),Object(k.jsx)(b.b,{path:"".concat(t,"/researchers/:id/papers"),children:Object(k.jsx)(xe,{})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/reviewers"),children:Object(k.jsx)(oe,{})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/reviewers/:id"),children:Object(k.jsx)(b.a,{to:"".concat(t,"/reviewers/:id/view")})}),Object(k.jsx)(b.b,{path:"".concat(t,"/reviewers/:id/view"),children:Object(k.jsx)(he,{})}),Object(k.jsx)(b.b,{path:"".concat(t,"/reviewers/:id/papers"),children:Object(k.jsx)(me,{})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/signups"),children:Object(k.jsx)(be,{})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/signups/:id"),children:Object(k.jsx)(b.a,{to:"".concat(t,"/signups/:id/view")})}),Object(k.jsx)(b.b,{path:"".concat(t,"/signups/:id/view"),children:Object(k.jsx)(ue,{})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/publications"),children:Object(k.jsx)(ee,{})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/publications/:id"),children:Object(k.jsx)(b.a,{to:"".concat(t,"/publications/:id/view")})}),Object(k.jsx)(b.b,{path:"".concat(t,"/publications/:id/view"),children:Object(k.jsx)(ne,{})}),Object(k.jsx)(b.b,{path:"".concat(t,"/publications/:id/edit"),children:Object(k.jsx)(ae,{})})]})})]})}),we=(c(225),function(e){var t=e.url;return Object(k.jsxs)(j.a,{children:[Object(k.jsx)(j.a.Item,{to:"".concat(t,"/papers"),as:o.c,children:"My Papers"}),Object(k.jsx)(j.a.Item,{to:"".concat(t,"/publications"),as:o.c,children:"Publications"}),Object(k.jsx)(M,{})]})}),ye=function(){var e=Object(r.c)(s),t=Object(a.useState)(!0),c=Object(u.a)(t,2),n=c[0],i=c[1],l=Object(a.useState)(null),j=Object(u.a)(l,2),b=j[0],O=j[1],h=Object(a.useState)(!1),x=Object(u.a)(h,2),m=x[0],p=x[1],f=Object(a.useState)(null),v=Object(u.a)(f,2),C=v[0],w=v[1];return Object(a.useEffect)((function(){n&&(i(!1),g.get("/api/paper/all").then((function(e){e.data.papers&&O(e.data.papers)})).catch((function(e){console.error(e)})))}),[n]),b?Object(k.jsxs)(U.a,{className:"view-papers",children:[Object(k.jsxs)(d.a,{clearing:!0,vertical:!0,children:[Object(k.jsxs)(q.a,{floated:"left",children:["My Papers ","reviewer"===e.type&&"to review"]}),"researcher"===e.type&&Object(k.jsxs)(N.a,{floated:"right",primary:!0,as:o.b,to:"/researcher/papers/new/edit",icon:!0,labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"plus"}),"Submit a paper"]})]}),Object(k.jsxs)(F.a,{celled:!0,children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Title"}),"reviewer"===e.type?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Minor Review Deadline"}),Object(k.jsx)(F.a.HeaderCell,{children:"Major Review Deadline"})," "]}):Object(k.jsx)(F.a.HeaderCell,{children:"Status"}),Object(k.jsx)(F.a.HeaderCell,{children:"File"}),Object(k.jsx)(F.a.HeaderCell,{children:"Action"})]})}),Object(k.jsx)(F.a.Body,{children:b.map((function(t){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:t.title}),"reviewer"===e.type?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a.Cell,{children:t.minor_rev_deadline}),Object(k.jsx)(F.a.Cell,{children:t.major_rev_deadline})]}):Object(k.jsx)(F.a.Cell,{children:t.status}),Object(k.jsx)(F.a.Cell,{textAlign:"center",children:Object(k.jsxs)(N.a,{secondary:!0,icon:!0,onClick:function(e){w(t),p(!0)},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"file alternate"}),"View File"]})}),Object(k.jsxs)(F.a.Cell,{textAlign:"center",children:[Object(k.jsx)(N.a,{primary:!0,as:o.b,to:"/".concat(e.type,"/papers/").concat(t.id,"/view"),icon:!0,children:Object(k.jsx)(I.a,{name:"eye"})}),"researcher"===e.type&&Object(k.jsx)(N.a,{secondary:!0,as:o.b,to:"/researcher/papers/".concat(t.id,"/edit"),icon:!0,children:Object(k.jsx)(I.a,{name:"pencil"})})]})]},t.id)}))})]}),Object(k.jsxs)(G.a,{dimmer:"inverted",onClose:function(){return p(!1)},onOpen:function(){return p(!0)},open:m,size:"fullscreen",children:[Object(k.jsx)(d.a,{clearing:!0,vertical:!0,padded:!0,children:Object(k.jsxs)(U.a,{className:"file-view-header",children:[Object(k.jsxs)(N.a,{primary:!0,floated:"right",onClick:function(e){p(!1),w(null)},children:[Object(k.jsx)(I.a,{name:"check"})," Done"]}),Object(k.jsxs)(q.a,{textAlign:"center",floated:"left",children:[null===C||void 0===C?void 0:C.title,Object(k.jsx)(q.a.Subheader,{children:null===C||void 0===C?void 0:C.researcher_email})]})]})}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(te.a,{defaultActive:!0,icon:"right circle arrow",placeholder:"/images/image-16by9.png",url:"http://localhost/storage/".concat(null===C||void 0===C?void 0:C.file_path)})})]})]}):Object(k.jsx)(U.a,{className:"view-papers",children:Object(k.jsx)(Y.a,{})})},_e=c(249),ke=function(){var e=Object(b.h)().id,t=Object(r.c)(s),c=Object(a.useState)(!0),n=Object(u.a)(c,2),i=n[0],l=n[1],j=Object(a.useState)(null),O=Object(u.a)(j,2),x=O[0],m=O[1],p=Object(a.useState)(null),f=Object(u.a)(p,2),v=f[0],C=f[1],w=Object(a.useState)(!1),y=Object(u.a)(w,2),S=y[0],R=y[1],H=Object(a.useState)(null),A=Object(u.a)(H,2),E=A[0],P=A[1],D=Object(a.useState)(!1),z=Object(u.a)(D,2),M=z[0],V=z[1],L=Object(a.useState)(null),J=Object(u.a)(L,2),W=J[0],Q=J[1],K=Object(a.useState)(null),X=Object(u.a)(K,2),Z=X[0],$=X[1];Object(a.useEffect)((function(){i&&(l(!1),g.get("/api/paper/".concat(e)).then((function(e){e.data.paper&&m(e.data.paper),e.data.nominated&&C(e.data.nominated),e.data.assigned&&P(e.data.assigned),e.data.withdraw&&V(e.data.withdraw),e.data.evaluation_metric&&("reviewer"===t.type?Q(Object(h.a)(Object(h.a)({},e.data.evaluation_metric),{},{questions:e.data.evaluation_metric.questions.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{answer:"",sent:!0})}))})):Q(e.data.evaluation_metric)),e.data.reviews&&($(e.data.reviews),"reviewer"===t.type&&Q(Object(h.a)(Object(h.a)({},e.data.evaluation_metric),{},{questions:e.data.evaluation_metric.questions.map((function(t){var c;return Object(h.a)(Object(h.a)({},t),{},{answer:null===(c=e.data.reviews.find((function(e){return e.metric_id===t.id})))||void 0===c?void 0:c.answer,sent:!!e.data.reviews.find((function(e){return e.metric_id===t.id}))})}))})))})).catch((function(e){})))}),[i,e,t.type]);var ee=function(e,t){Q(Object(h.a)(Object(h.a)({},W),{},{questions:W.questions.map((function(c){return c.id===e?Object(h.a)(Object(h.a)({},c),{},{answer:t,sent:!1}):c}))}))};return x?Object(k.jsxs)(U.a,{children:[M&&Object(k.jsx)(ie.a,{color:"yellow",children:"awaiting"===M?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(I.a,{name:"exclamation"})," The author of this paper has requested a withdrawl."]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(I.a,{name:"exclamation"})," The withdrawl request has been rejected.","researcher"===t.type&&Object(k.jsx)(N.a,{secondary:!0,size:"small",onClick:function(t){g.post("/api/paper/".concat(e,"/request_withdraw")).then((function(e){e.data.success&&V(!1)})).catch((function(e){}))},children:"Ok :("})]})}),Object(k.jsxs)(d.a,{clearing:!0,vertical:!0,children:[Object(k.jsx)(q.a,{floated:"left",children:"Paper Info"}),"researcher"===t.type&&Object(k.jsxs)(N.a,{floated:"right",icon:!0,secondary:!0,to:"/researcher/papers/".concat(e,"/edit"),as:o.b,labelPosition:"left",size:"small",children:[Object(k.jsx)(I.a,{name:"plus"}),"Edit Paper"]})]}),Object(k.jsx)(F.a,{definition:!0,children:Object(k.jsxs)(F.a.Body,{children:[Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Title"}),Object(k.jsx)(F.a.Cell,{children:x.title})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Status"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(fe,{status:x.status})})]}),x.editor&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Editor"}),Object(k.jsx)(F.a.Cell,{children:x.editor})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Editor email"}),Object(k.jsx)(F.a.Cell,{children:x.editor_email})]})," "]}),"reviewer"===t.type&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Researcher"}),Object(k.jsx)(F.a.Cell,{children:x.researcher})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Researcher email"}),Object(k.jsx)(F.a.Cell,{children:x.researcher_email})]})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"File"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsxs)(N.a,{secondary:!0,icon:!0,onClick:function(e){R(!0)},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"file alternate"}),"View File"]})})]})]})}),W&&W.questions&&W.questions.length>0&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(T.a,{}),Object(k.jsx)(d.a,{clearing:!0,vertical:!0,children:Object(k.jsxs)(q.a,{children:["Evaluation Metric: ",null===W||void 0===W?void 0:W.name]})}),Object(k.jsx)(T.a,{hidden:!0}),Object(k.jsx)(B.a.Group,{children:null===W||void 0===W?void 0:W.questions.map((function(c){return Object(k.jsx)(B.a,{children:Object(k.jsxs)(B.a.Content,{children:[Object(k.jsx)(B.a.Header,{children:c.question}),Object(k.jsx)(B.a.Meta,{children:Object(k.jsxs)("span",{children:["Answer Type: ",c.answer_type]})}),"reviewer"===t.type&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(T.a,{}),Object(k.jsx)("p",{children:"Your Answer:"}),c.sent?Object(k.jsxs)(k.Fragment,{children:[c.answer,Object(k.jsx)(T.a,{hidden:!0}),Object(k.jsxs)(N.a,{type:"submit",primary:!0,icon:!0,labelPosition:"right",onClick:function(e){return t=c.id,void Q(Object(h.a)(Object(h.a)({},W),{},{questions:W.questions.map((function(e){return e.id===t?Object(h.a)(Object(h.a)({},e),{},{sent:!1}):e}))}));var t},children:[Object(k.jsx)(I.a,{name:"pencil"}),"Edit answer"]})]}):Object(k.jsxs)(_.a,{children:["scale"===c.answer_type?Object(k.jsx)(_.a.Input,{type:"number",placeholder:"Your answer",value:c.answer,onChange:function(e,t){t.name;var a=t.value;return ee(c.id,a)}}):Object(k.jsx)(_e.a,{cols:"27",name:"answer",placeholder:"Your answer",value:c.answer,onChange:function(e,t){t.name;var a=t.value;return ee(c.id,a)}}),Object(k.jsx)(T.a,{hidden:!0}),Object(k.jsxs)(N.a,{type:"submit",primary:!0,icon:!0,labelPosition:"right",onClick:function(t){return a=c.id,n=c.answer,void g.post("/api/paper/".concat(e,"/review"),{question_id:a,answer:n}).then((function(e){Q(Object(h.a)(Object(h.a)({},W),{},{questions:W.questions.map((function(e){return e.id===a?Object(h.a)(Object(h.a)({},e),{},{sent:!0}):e}))}))})).catch((function(e){}));var a,n},children:[Object(k.jsx)(I.a,{name:"send"}),"Send"]})]})]})]})},c.id)}))})," "]}),Z&&Z.length>0&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(T.a,{}),Object(k.jsx)(d.a,{clearing:!0,vertical:!0,children:Object(k.jsx)(q.a,{children:"Reviews:"})}),Object(k.jsx)(T.a,{hidden:!0}),Object(k.jsx)(B.a.Group,{children:null===Z||void 0===Z?void 0:Z.map((function(e){return Object(k.jsx)(B.a,{children:Object(k.jsxs)(B.a.Content,{children:[Object(k.jsx)(B.a.Header,{children:e.question}),"By: ",e.reviewer,Object(k.jsx)(B.a.Meta,{children:Object(k.jsxs)("span",{children:["Answer Type: ",e.answer_type]})}),Object(k.jsx)(T.a,{}),e.answer]})},e.id)}))})," "]}),v&&v.length>0&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(T.a,{}),Object(k.jsx)(d.a,{clearing:!0,vertical:!0,children:Object(k.jsx)(q.a,{floated:"left",children:"Nominated Reviewers"})}),Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Reviewer"}),Object(k.jsx)(F.a.HeaderCell,{children:"Reviewer Email"})]})}),Object(k.jsx)(F.a.Body,{children:v&&v.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.reviewer}),Object(k.jsx)(F.a.Cell,{children:e.reviewer_email})]},e.id)}))})]})]}),E&&E.length>0&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(T.a,{}),Object(k.jsx)(d.a,{clearing:!0,vertical:!0,children:Object(k.jsx)(q.a,{floated:"left",children:"Assigned Reviewers"})}),Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Reviewer"}),Object(k.jsx)(F.a.HeaderCell,{children:"Reviewer Email"})]})}),Object(k.jsx)(F.a.Body,{children:E&&E.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.reviewer}),Object(k.jsx)(F.a.Cell,{children:e.reviewer_email})]},e.id)}))})]})," "]}),Object(k.jsxs)(G.a,{dimmer:"inverted",onClose:function(){return R(!1)},onOpen:function(){return R(!0)},open:S,size:"fullscreen",children:[Object(k.jsx)(d.a,{clearing:!0,vertical:!0,padded:!0,children:Object(k.jsxs)(U.a,{className:"file-view-header",children:[Object(k.jsxs)(N.a,{primary:!0,floated:"right",onClick:function(e){R(!1)},children:[Object(k.jsx)(I.a,{name:"check"})," Done"]}),Object(k.jsxs)(q.a,{textAlign:"center",floated:"left",children:[null===x||void 0===x?void 0:x.title,Object(k.jsx)(q.a.Subheader,{children:null===x||void 0===x?void 0:x.researcher_email})]})]})}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(te.a,{defaultActive:!0,icon:"right circle arrow",placeholder:"/images/image-16by9.png",url:"http://localhost/storage/".concat(null===x||void 0===x?void 0:x.file_path)})})]})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{active:!0,inline:"centered"})})},Se=function(){var e=Object(b.h)().id,t=Object(b.g)(),c=Object(a.useState)(!0),n=Object(u.a)(c,2),i=n[0],l=n[1],r=Object(a.useState)({id:"",title:"",status:"",file_path:"",researcher_email:"",editor_email:"",em_name:""}),s=Object(u.a)(r,2),j=s[0],o=s[1],x=Object(a.useState)({}),m=Object(u.a)(x,2),p=m[0],f=m[1],v=Object(a.useState)({}),C=Object(u.a)(v,2),w=C[0],y=C[1],S=Object(a.useState)(!1),R=Object(u.a)(S,2),H=R[0],A=R[1],E=Object(a.useState)(!1),P=Object(u.a)(E,2),D=P[0],z=P[1],M=Object(a.useState)(null),V=Object(u.a)(M,2),L=V[0],J=V[1],Q=Object(a.useState)(!1),K=Object(u.a)(Q,2),X=K[0],Z=K[1],$=Object(a.useState)(null),ee=Object(u.a)($,2),ce=ee[0],ae=ee[1],ne=Object(a.useState)(null),le=Object(u.a)(ne,2),re=le[0],se=le[1],je=Object(a.useState)(null),de=Object(u.a)(je,2),oe=de[0],be=de[1],Oe=Object(a.useState)(!1),he=Object(u.a)(Oe,2),ue=he[0],xe=he[1],me=Object(a.useState)(null),pe=Object(u.a)(me,2),ve=pe[0],Ce=pe[1],ge=Object(a.useState)(!1),we=Object(u.a)(ge,2),ye=we[0],_e=we[1],ke=Object(a.useState)(null),Se=Object(u.a)(ke,2),Re=Se[0],He=Se[1],Ne="new"===e;Object(a.useEffect)((function(){!Ne&&i&&(l(!1),g.get("/api/paper/".concat(e)).then((function(e){e.data.paper&&o(e.data.paper),e.data.nominated&&se(e.data.nominated),e.data.assigned&&be(e.data.assigned),e.data.withdraw&&xe(e.data.withdraw),e.data.evaluation_metric&&He(e.data.evaluation_metric),_e(!0)})).catch((function(e){})))}),[i,e,Ne]),Object(a.useEffect)((function(){!Ne&&ye&&(_e(!1),g.get("/api/users/of_type/reviewer").then((function(e){e.data.users&&Ce(e.data.users.filter((function(e){return void 0===oe.find((function(t){return t.reviewer_email===e.email}))})).filter((function(e){return void 0===re.find((function(t){return t.reviewer_email===e.email}))})).map((function(e){return{key:e.email,text:e.first_name+" "+e.last_name,value:e.email}})))})).catch((function(e){})))}),[oe,ye,e,Ne,re]);var Ae=function(t,c){var a=new FormData;L&&a.append("file",L),g.post("/api/paper/".concat(e,"/edit"),"file"===t?a:Object(O.a)({},t,c)).then((function(e){e.data.success&&(f(Object(h.a)(Object(h.a)({},p),{},Object(O.a)({},t,!1))),y(Object(h.a)(Object(h.a)({},w),{},Object(O.a)({},t,!1)))),e.data.new_file_path&&(o(Object(h.a)(Object(h.a)({},j),{},{file_path:e.data.new_file_path})),y(Object(h.a)(Object(h.a)({},w),{},{file:!1})),J(null),z(!1))})).catch((function(e){console.error(e.response),f(e.response.data.errors)}))},Ee=function(){g.post("/api/paper/".concat(j.id,"/request_withdraw")).then((function(e){e.data.success&&xe(!ue&&"awaiting")})).catch((function(e){}))};return j?Object(k.jsxs)(U.a,{children:[ue&&Object(k.jsx)(ie.a,{color:"yellow",children:"awaiting"===ue?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(I.a,{name:"exclamation"})," The author of this paper has requested a withdrawl."]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(I.a,{name:"exclamation"})," The withdrawl request has been rejected.",Object(k.jsx)(N.a,{secondary:!0,size:"small",onClick:function(e){return Ee()},children:"Ok :("})]})}),Object(k.jsxs)(d.a,{clearing:!0,vertical:!0,children:[Object(k.jsx)(q.a,{floated:"left",children:"Paper Info"}),!Ne&&(ue?Object(k.jsxs)(N.a,{icon:!0,color:"green",labelPosition:"left",floated:"right",size:"small",animated:!0,onClick:function(e){return Ee()},children:[Object(k.jsxs)(N.a.Content,{visible:!0,children:[Object(k.jsx)(I.a,{name:"check"}),"Withdrawn Requested"]}),Object(k.jsxs)(N.a.Content,{hidden:!0,children:[Object(k.jsx)(I.a,{name:"remove"}),"Cancel withdrawal"]})]}):Object(k.jsxs)(N.a,{icon:!0,secondary:!0,labelPosition:"left",floated:"right",size:"small",onClick:function(e){return Ee()},children:[Object(k.jsx)(I.a,{name:"undo"}),"Request Withdrawal"]})),Object.keys(w).length>0&&Object.keys(w).reduce((function(e,t){return e||w[t]}),!1)?Object(k.jsxs)(N.a,{labelPosition:"left",floated:"right",icon:!0,onClick:function(c){var a=new FormData;L&&(a.append("file",L),a.append("title",j.title)),g.post("/api/paper/".concat(Ne?"upload":"".concat(e,"/edit")),Ne||L?a:j).then((function(e){e.data.success&&(f({}),y({}),e.data.paper&&t.replace("/researcher/papers/".concat(e.data.paper.id,"/view")))})).catch((function(e){console.error(e.response),f(e.response.data.errors)}))},secondary:!0,size:"small",children:[Object(k.jsx)(I.a,{name:"save"}),"Save Publication"]}):Object(k.jsxs)(N.a,{labelPosition:"left",floated:"right",icon:!0,disabled:!0,primary:!0,size:"small",children:[Object(k.jsx)(I.a,{name:"save"}),"Saved"]})]}),Object(k.jsx)(F.a,{definition:!0,children:Object(k.jsxs)(F.a.Body,{children:[Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Title"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(_.a.Field,{children:Object(k.jsx)(_.a.Input,{placeholder:"Title",name:"title",value:j.title,onChange:function(e,t){var c=t.name,a=t.value;o(Object(h.a)(Object(h.a)({},j),{},Object(O.a)({},c,a))),y(Ne?{new_journal:!0}:Object(h.a)(Object(h.a)({},w),{},Object(O.a)({},c,a)))},error:p&&p.title&&{content:p.title.join(" & "),pointing:"left"},icon:!Ne&&(null===w||void 0===w?void 0:w.title)&&{name:"save",circular:!0,link:!0,onClick:function(e){return Ae("title",j.title)}}})})})]}),!Ne&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Status"}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(fe,{status:j.status})})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Editor"}),Object(k.jsx)(F.a.Cell,{children:j.editor})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"Editor Email"}),Object(k.jsx)(F.a.Cell,{children:j.editor_email})]})]}),Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:"File"}),Object(k.jsx)(F.a.Cell,{children:D||Ne?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(_.a.Field,{inline:!0,className:"table_select",children:Object(k.jsx)(_.a.Input,{placeholder:"File",className:"table_select",name:"file",onChange:function(e){J(e.target.files[0]),y(Object(h.a)(Object(h.a)({},w),{},{file:!0}))},type:"file"})}),!Ne&&w.file&&Object(k.jsx)(I.a,{name:"save",circular:!0,link:!0,onClick:function(e){return Ae("file",j.file_path)}}),!Ne&&Object(k.jsx)(N.a,{secondary:!0,icon:!0,onClick:function(e){z(!1)},children:Object(k.jsx)(I.a,{name:"remove"})})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(N.a,{secondary:!0,icon:!0,onClick:function(e){A(!0)},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"file alternate"}),"View File"]}),Object(k.jsx)(N.a,{secondary:!0,icon:!0,onClick:function(e){z(!0)},children:Object(k.jsx)(I.a,{name:"pencil"})})]})})]})]})}),!Ne&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(T.a,{}),Object(k.jsx)(d.a,{clearing:!0,vertical:!0,children:Object(k.jsxs)(q.a,{children:["Evaluation Metric: ",null===Re||void 0===Re?void 0:Re.name]})}),Object(k.jsx)(T.a,{hidden:!0}),Object(k.jsx)(B.a.Group,{children:null===Re||void 0===Re?void 0:Re.questions.map((function(e){return Object(k.jsx)(B.a,{children:Object(k.jsxs)(B.a.Content,{children:[Object(k.jsx)(B.a.Header,{children:e.question}),Object(k.jsx)(B.a.Meta,{children:Object(k.jsx)("span",{children:e.answer_type})})]})})}))}),Object(k.jsx)(T.a,{}),Object(k.jsxs)(d.a,{clearing:!0,vertical:!0,children:[Object(k.jsx)(q.a,{floated:"left",children:"Nominated Reviewers"}),X?Object(k.jsxs)(N.a,{floated:"right",icon:!0,color:"green",onClick:function(t){g.post("/api/nominated/new",{paper_id:e,reviewer_email:ce}).then((function(e){e.data.success&&(ae(null),Z(!1),e.data.nominated&&(se([].concat(Object(W.a)(re),[e.data.nominated])),console.log(ve),console.log(e.data.nominated),Ce(ve.filter((function(t){return t.key!==e.data.nominated.reviewer_email})))))})).catch((function(e){console.error(e.response)}))},labelPosition:"left",size:"small",children:[Object(k.jsx)(I.a,{name:"save"}),"Nominate this reviewer"]}):Object(k.jsxs)(N.a,{floated:"right",icon:!0,primary:!0,onClick:function(e){return Z(!0)},labelPosition:"left",size:"small",children:[Object(k.jsx)(I.a,{name:"plus"}),"Nominate Reviewer"]})]}),re&&re.length>0||X?Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Reviewer"}),Object(k.jsx)(F.a.HeaderCell,{children:"Reviewer Email"}),Object(k.jsx)(F.a.HeaderCell,{children:"Remove Reviewer"})]})}),Object(k.jsxs)(F.a.Body,{children:[X&&Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(_.a.Select,{placeholder:"Reviewer",name:"reviewer",search:!0,value:ce,onChange:function(e,t){t.name;var c=t.value;ae(c)},options:ve})}),Object(k.jsx)(F.a.Cell,{children:ce&&ce})]}),re&&re.map((function(t){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:t.reviewer}),Object(k.jsx)(F.a.Cell,{children:t.reviewer_email}),Object(k.jsx)(F.a.Cell,{children:Object(k.jsx)(N.a,{color:"red",icon:!0,onClick:function(c){return function(t){g.post("/api/nominated/remove",{paper_id:e,reviewer_email:t.reviewer_email}).then((function(e){e.data.success&&(ae(null),Z(!1),se(re.filter((function(e){return e.reviewer_id!==t.reviewer_id}))),Ce([].concat(Object(W.a)(ve),[{key:t.reviewer_email,text:t.reviewer,value:t.reviewer_email}])))})).catch((function(e){console.error(e.response)}))}(t)},children:Object(k.jsx)(I.a,{name:"remove"})})})]},t.id)}))]})]}):Object(k.jsx)(ie.a,{color:"yellow",children:"No nominations."}),Object(k.jsx)(T.a,{}),Object(k.jsx)(d.a,{clearing:!0,vertical:!0,children:Object(k.jsx)(q.a,{floated:"left",children:"Assigned Reviewers"})}),Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Reviewer"}),Object(k.jsx)(F.a.HeaderCell,{children:"Reviewer Email"})]})}),Object(k.jsx)(F.a.Body,{children:oe&&oe.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.reviewer}),Object(k.jsx)(F.a.Cell,{children:e.reviewer_email})]},e.id)}))})]})," "]}),Object(k.jsxs)(G.a,{dimmer:"inverted",onClose:function(){return A(!1)},onOpen:function(){return A(!0)},open:H,size:"fullscreen",children:[Object(k.jsx)(d.a,{clearing:!0,vertical:!0,padded:!0,children:Object(k.jsxs)(U.a,{className:"file-view-header",children:[Object(k.jsxs)(N.a,{primary:!0,floated:"right",onClick:function(e){A(!1)},children:[Object(k.jsx)(I.a,{name:"check"})," Done"]}),Object(k.jsxs)(q.a,{textAlign:"center",floated:"left",children:[null===j||void 0===j?void 0:j.title,Object(k.jsx)(q.a.Subheader,{children:null===j||void 0===j?void 0:j.researcher_email})]})]})}),Object(k.jsx)(G.a.Content,{children:Object(k.jsx)(te.a,{defaultActive:!0,icon:"right circle arrow",placeholder:"/images/image-16by9.png",url:"http://localhost/storage/".concat(null===j||void 0===j?void 0:j.file_path)})})]})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{active:!0,inline:"centered"})})},Re=(c(226),function(){var e=Object(b.i)(),t=e.path,c=e.url;return Object(k.jsxs)("div",{className:"researcher",children:[Object(k.jsx)(we,{url:c}),Object(k.jsx)("div",{className:"ui container middle",children:Object(k.jsxs)(b.d,{children:[Object(k.jsx)(b.b,{exact:!0,path:t,children:Object(k.jsx)(b.a,{to:"".concat(t,"/papers")})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/papers"),children:Object(k.jsx)(ye,{})}),Object(k.jsx)(b.b,{path:"".concat(t,"/papers/:id/view"),children:Object(k.jsx)(ke,{})}),Object(k.jsx)(b.b,{path:"".concat(t,"/papers/:id/edit"),children:Object(k.jsx)(Se,{})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/publications"),children:Object(k.jsx)(ee,{})}),Object(k.jsx)(b.b,{path:"".concat(t,"/publications/:id"),children:Object(k.jsx)(ne,{})})]})})]})}),He=(c(227),function(e){var t=e.url;return Object(k.jsxs)(j.a,{children:[Object(k.jsx)(j.a.Item,{exact:!0,to:"".concat(t),as:o.c,children:"My Papers to review"}),Object(k.jsx)(j.a.Item,{exact:!0,to:"".concat(t,"/publications"),as:o.c,children:"Publications"}),Object(k.jsx)(M,{})]})}),Ne=(c(228),function(){var e=Object(b.i)(),t=e.path,c=e.url;return Object(k.jsxs)("div",{className:"reviewer",children:[Object(k.jsx)(He,{url:c}),Object(k.jsx)("div",{className:"ui container middle",children:Object(k.jsxs)(b.d,{children:[Object(k.jsx)(b.b,{exact:!0,path:t,children:Object(k.jsx)(b.a,{to:"".concat(t,"/papers")})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/papers"),children:Object(k.jsx)(ye,{})}),Object(k.jsx)(b.b,{path:"".concat(t,"/papers/:id/view"),children:Object(k.jsx)(ke,{})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/publications"),children:Object(k.jsx)(ee,{})}),Object(k.jsx)(b.b,{path:"".concat(t,"/publications/:id"),children:Object(k.jsx)(ne,{})})]})})]})}),Ae=(c(229),function(e){var t=e.url;return Object(k.jsxs)(j.a,{children:[Object(k.jsx)(j.a.Item,{to:"".concat(t,"/publications"),as:o.c,children:"Publications"}),Object(k.jsx)(M,{})]})}),Ee=(c(230),function(){var e=Object(b.i)(),t=e.path,c=e.url;return Object(k.jsxs)("div",{className:"viewer",children:[Object(k.jsx)(Ae,{url:c}),Object(k.jsx)("div",{className:"ui container middle",children:Object(k.jsxs)(b.d,{children:[Object(k.jsx)(b.b,{exact:!0,path:t,children:Object(k.jsx)(b.a,{to:"".concat(t,"/publications")})}),Object(k.jsx)(b.b,{exact:!0,path:"".concat(t,"/publications"),children:Object(k.jsx)(ee,{})}),Object(k.jsx)(b.b,{path:"".concat(t,"/publications/:id"),children:Object(k.jsx)(ne,{})})]})})]})}),Pe=(c(231),function(){var e=Object(r.c)(s),t=Object(a.useState)(null),c=Object(u.a)(t,2),n=c[0],i=c[1],l=Object(a.useState)(!0),j=Object(u.a)(l,2),b=j[0],O=j[1];return Object(a.useEffect)((function(){b&&(O(!1),g.get("/api/evaluation_metrics/all").then((function(e){e.data.evaluation_metrics&&i(e.data.evaluation_metrics)})).catch((function(e){})))}),[b]),Object(k.jsxs)(U.a,{className:"evaluation-metrics",children:[Object(k.jsxs)(d.a,{clearing:!0,vertical:!0,children:[Object(k.jsx)(q.a,{floated:"left",children:"Evaluation Metrics"}),Object(k.jsxs)(N.a,{icon:!0,size:"small",primary:!0,labelPosition:"left",floated:"right",to:"/".concat(e.type,"/evaluation_metrics/new/edit"),as:o.b,children:[Object(k.jsx)(I.a,{name:"plus"}),"New Evaluation Metric"]})]}),Object(k.jsx)(T.a,{hidden:!0}),Object(k.jsx)(B.a.Group,{children:n&&n.map((function(t){return Object(k.jsxs)(B.a,{children:[Object(k.jsx)(B.a.Content,{children:Object(k.jsx)(q.a,{as:"h2",children:t.name})}),Object(k.jsx)(B.a.Content,{extra:!0,children:Object(k.jsxs)("div",{className:"ui two buttons",children:[Object(k.jsxs)(N.a,{icon:!0,as:o.b,to:"/".concat(e.type,"/evaluation_metrics/").concat(t.id,"/view"),labelPosition:"left",primary:!0,children:[Object(k.jsx)(I.a,{name:"eye"})," View"]}),("admin"===e.type||"editor"===e.type)&&Object(k.jsxs)(N.a,{icon:!0,labelPosition:"left",as:o.b,to:"/".concat(e.type,"/evaluation_metrics/").concat(t.id,"/edit"),secondary:!0,children:[Object(k.jsx)(I.a,{name:"pencil"})," Edit"]})]})})]})}))})]})}),Fe=(c(232),[{key:"comment",value:"comment",text:"Comment"},{key:"scale",value:"scale",text:"Scale"}]),Ie=function(){var e=Object(b.g)(),t=Object(b.h)().id,c=Object(r.c)(s),n=Object(a.useState)(!0),i=Object(u.a)(n,2),l=i[0],j=i[1],o=Object(a.useState)({name:""}),x=Object(u.a)(o,2),m=x[0],p=x[1],f=Object(a.useState)(null),v=Object(u.a)(f,2),C=v[0],w=v[1],y=Object(a.useState)(!1),S=Object(u.a)(y,2),R=S[0],H=S[1],A=Object(a.useState)(0),E=Object(u.a)(A,2),P=E[0],T=E[1],B="new"===t;Object(a.useEffect)((function(){!B&&l&&(j(!1),g.get("/api/evaluation_metrics/".concat(t)).then((function(e){e.data.evaluation_metric&&p(e.data.evaluation_metric),e.data.metrics&&w(e.data.metrics)})).catch((function(e){})))}),[l,t,B]);var D=function(){w([{edit:!0,id:"new"+P,question:"",answer_type:""}].concat(Object(W.a)(C))),T(P+1)},z=function(e,t){var c=t.name,a=t.value;w(C.map((function(t){return t.id===e?Object(h.a)(Object(h.a)({},t),{},Object(O.a)({},c,a)):t})))};return"admin"!==c.type&&"editor"!==c.type?Object(k.jsx)(U.a,{children:Object(k.jsx)(ie.a,{children:"Yoou are not supposed to be here"})}):m?Object(k.jsxs)(U.a,{className:"view-evaluation-metric",children:[Object(k.jsxs)(d.a,{clearing:!0,vertical:!0,children:[Object(k.jsx)(q.a,{floated:"left",as:"div",children:Object(k.jsx)(_.a.Field,{children:Object(k.jsx)(_.a.Input,{placeholder:"Evaluation Metric Name",value:m.name,name:"name",onChange:function(e,t){var c=t.name,a=t.value;p(Object(h.a)(Object(h.a)({},m),{},Object(O.a)({},c,a))),H(!0)}})})}),R?Object(k.jsxs)(N.a,{icon:!0,size:"small",primary:!0,labelPosition:"left",onClick:function(a){g.post("/api/evaluation_metrics/".concat(B?"new":"".concat(t,"/edit")),{name:m.name}).then((function(t){H(!1),B&&e.replace("/".concat(c.type,"/evaluation_metrics/").concat(t.data.evaluation_metric.id,"/edit"))})).catch((function(e){}))},floated:"right",children:[Object(k.jsx)(I.a,{name:"save"}),"Save Evaluation Metric"]}):Object(k.jsxs)(N.a,{icon:!0,size:"small",primary:!0,disabled:!0,labelPosition:"left",floated:"right",children:[Object(k.jsx)(I.a,{name:"save"}),"Evaluation Metric Saved"]})]}),!B&&C&&C.length>0?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(d.a,{clearing:!0,vertical:!0,children:Object(k.jsxs)(N.a,{primary:!0,icon:!0,onClick:function(e){return D()},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"plus"}),"Add Question"]})}),Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Question"}),Object(k.jsx)(F.a.HeaderCell,{children:"Answer Type"}),Object(k.jsx)(F.a.HeaderCell,{children:"Actions"})]})}),Object(k.jsx)(F.a.Body,{children:C.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.edit?Object(k.jsx)(_.a.Field,{children:Object(k.jsx)(_.a.Input,{placeholder:"Question",name:"question",value:e.question,onChange:function(t,c){var a=c.name,n=c.value;return z(e.id,{name:a,value:n})}})}):e.question}),Object(k.jsx)(F.a.Cell,{children:e.edit?Object(k.jsx)(_.a.Select,{placeholder:"Question Type",name:"answer_type",options:Fe,value:e.answer_type,onChange:function(t,c){var a=c.name,n=c.value;return z(e.id,{name:a,value:n})}}):e.answer_type}),Object(k.jsx)(F.a.Cell,{textAlign:"center",children:e.edit?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(N.a,{icon:!0,primary:!0,onClick:function(c){return a=e.id,void g.post("/api/evaluation_metrics/".concat(t,"/add_question"),C.find((function(e){return e.id===a}))).then((function(e){w(C.map((function(t){return t.id===a?Object(h.a)(Object(h.a)({},t),{},{id:e.data.metric.id,edit:!1}):t})))})).catch((function(e){}));var a},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"save"}),"Save question"]}),Object(k.jsxs)(N.a,{icon:!0,onClick:function(t){return c=e.id,void w(C.filter((function(e){return e.id!==c})));var c},color:"red",labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"remove"}),"Cancel question"]})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(N.a,{icon:!0,primary:!0,onClick:function(t){return c=e.id,void w(C.map((function(e){return e.id===c?Object(h.a)(Object(h.a)({},e),{},{edit:!0}):e})));var c},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"pencil"}),"Edit question"]}),Object(k.jsxs)(N.a,{icon:!0,color:"red",onClick:function(c){return a=e.id,void g.post("/api/evaluation_metrics/".concat(t,"/remove_question"),{metric_id:a}).then((function(e){w(C.filter((function(e){return e.id!==a})))})).catch((function(e){}));var a},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"remove"}),"Remove question"]})]})})]})}))})]})]}):!B&&Object(k.jsxs)(ie.a,{children:["There are no questions for this metric",Object(k.jsxs)(N.a,{primary:!0,icon:!0,size:"small",className:"margin-button",onClick:function(e){return D()},labelPosition:"left",children:[Object(k.jsx)(I.a,{name:"plus"}),"Add Question"]})]})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{active:!0,inline:"centered"})})},Te=(c(233),function(){var e=Object(b.h)().id,t=Object(r.c)(s),c=Object(a.useState)(!0),n=Object(u.a)(c,2),i=n[0],l=n[1],j=Object(a.useState)(null),O=Object(u.a)(j,2),h=O[0],x=O[1],m=Object(a.useState)(null),p=Object(u.a)(m,2),f=p[0],v=p[1],C="new"===e;return Object(a.useEffect)((function(){!C&&i&&(l(!1),g.get("/api/evaluation_metrics/".concat(e)).then((function(e){e.data.evaluation_metric&&x(e.data.evaluation_metric),e.data.metrics&&v(e.data.metrics)})).catch((function(e){})))}),[i,e,C]),h?Object(k.jsxs)(U.a,{className:"view-evaluation-metric",children:[Object(k.jsxs)(d.a,{clearing:!0,vertical:!0,children:[Object(k.jsx)(q.a,{floated:"left",children:h.name}),("editor"===t.type||"admin"===t.type)&&Object(k.jsxs)(N.a,{icon:!0,size:"small",primary:!0,labelPosition:"left",floated:"right",to:"/".concat(t.type,"/evaluation_metrics/").concat(e,"/edit"),as:o.b,children:[Object(k.jsx)(I.a,{name:"pencil"}),"Edit Evaluation Metric"]})]}),f&&f.length>0?Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Header,{children:Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.HeaderCell,{children:"Question"}),Object(k.jsx)(F.a.HeaderCell,{children:"Answer Type"})]})}),Object(k.jsx)(F.a.Body,{children:f.map((function(e){return Object(k.jsxs)(F.a.Row,{children:[Object(k.jsx)(F.a.Cell,{children:e.question}),Object(k.jsx)(F.a.Cell,{children:e.answer_type})]})}))})]}):Object(k.jsx)(ie.a,{children:"There are no questions for this metric"})]}):Object(k.jsx)(U.a,{children:Object(k.jsx)(Y.a,{active:!0,inline:"centered"})})}),qe=(c(234),c(235),function(){var e=Object(r.c)(s);return Object(k.jsxs)(k.Fragment,{children:[!e&&Object(k.jsxs)(j.a,{children:[Object(k.jsx)(j.a.Item,{exact:!0,to:"/login",as:o.c,children:"Login"}),Object(k.jsx)(j.a.Item,{exact:!0,to:"/register",as:o.c,children:"Register"})]}),Object(k.jsxs)(b.d,{children:[Object(k.jsx)(b.b,{exact:!0,path:"/",children:Object(k.jsx)(b.a,{to:"login"})}),Object(k.jsx)(b.b,{path:"/login",component:S}),Object(k.jsx)(b.b,{path:"/register",component:P}),Object(k.jsx)(H,{path:"/admin",type:"admin",children:Object(k.jsx)(re,{})}),Object(k.jsx)(H,{path:"/viewer",type:"viewer",children:Object(k.jsx)(Ee,{})}),Object(k.jsx)(H,{path:"/editor",type:"editor",children:Object(k.jsx)(ge,{})}),Object(k.jsx)(H,{path:"/reviewer",type:"reviewer",children:Object(k.jsx)(Ne,{})}),Object(k.jsx)(H,{path:"/researcher",type:"researcher",children:Object(k.jsx)(Re,{})})]}),e&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(b.d,{children:[Object(k.jsx)(H,{exact:!0,path:"/".concat(e.type,"/evaluation_metrics"),children:Object(k.jsx)(Pe,{})}),Object(k.jsx)(H,{path:"/".concat(e.type,"/evaluation_metrics/:id/view"),children:Object(k.jsx)(Te,{})}),Object(k.jsx)(H,{path:"/".concat(e.type,"/evaluation_metrics/:id/edit"),children:Object(k.jsx)(Ie,{})}),Object(k.jsx)(H,{path:"/".concat(e.type,"/user/tokens"),children:Object(k.jsx)(D,{})})]})}),Object(k.jsx)(d.a,{inverted:!0,attached:"bottom",className:"footer",children:"Juan Mo Journals"})]})}),Be=c(48),De=c(159),ze=c(160),Me={email:null,firstName:null,lastName:null,type:null},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(h.a)(Object(h.a)({},e),t.payload);case v:return Object(h.a)(Object(h.a)({},e),{},{email:null,firstName:null,lastName:null,type:null});default:return e}},Ue=Object(Be.combineReducers)({user:Ve}),Ge=[De.a],Le=Object(Be.createStore)(Ue,{},Object(ze.composeWithDevTools)(Be.applyMiddleware.apply(void 0,Ge)));l.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(r.a,{store:Le,children:Object(k.jsx)(o.a,{children:Object(k.jsx)(qe,{})})})}),document.getElementById("root"))}},[[236,1,2]]]);
//# sourceMappingURL=main.1f0e5afa.chunk.js.map